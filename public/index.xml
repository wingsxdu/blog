<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>beihai</title>
    <link>https://www.wingsxdu.com/</link>
    <description>Recent content on beihai</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Sun, 29 Sep 2019 17:20:37 +0800</lastBuildDate>
    
        <atom:link href="https://www.wingsxdu.com/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>æ¬¢è¿æ¥åˆ°åŒ—æµ·çš„åšå®¢</title>
      <link>https://www.wingsxdu.com/about/</link>
      <pubDate>Thu, 06 Sep 2018 13:22:47 +0000</pubDate>
      
      <guid>https://www.wingsxdu.com/about/</guid>
      
        <description>

&lt;p style=&#34;text-align: center;&#34;&gt;
  &lt;strong&gt;å…³äºåšä¸»&lt;/strong&gt;
&lt;/p&gt;

&lt;p&gt;Gopherï¼Œç”µå­äº§å“çˆ±å¥½è€…ï¼ŒSoftware Developerï¼Œ&lt;/p&gt;

&lt;p&gt;è¥¿ç”µ2017çº§æœ¬ç§‘ç”Ÿï¼Œé IT ä¸“ä¸šï¼Œç›®å‰ç ”ç©¶æ–¹å‘ä¸ºå¾®æœåŠ¡ä¸åˆ†å¸ƒå¼&lt;/p&gt;

&lt;p&gt;ä¸å–œæ¬¢å›½å†…å¤§å­¦çš„æˆè¯¾å†…å®¹ä¸æ•™å­¦æ–¹å¼ï¼Œå®¶å¢ƒè´«å¯’ï¼Œä¸€èº«æœ¬äº‹å…¨å‡­è‡ªå­¦&lt;/p&gt;

&lt;p&gt;æŠ€æœ¯æ ˆï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Golang back-end &amp;amp; databaseï¼šginã€echoã€gorm&lt;/li&gt;
&lt;li&gt;åŒºå—é“¾ç›¸å…³å¼€å‘&lt;/li&gt;
&lt;li&gt;Ant Designã€Android APPã€å¾®ä¿¡å°ç¨‹åºç­‰&lt;/li&gt;
&lt;li&gt;çˆ¬è™«ã€æœºå™¨å­¦ä¹ ã€ç®—æ³•ç•¥æœ‰æ¥è§¦&lt;/li&gt;
&lt;li&gt;996ç»éªŒä¸°å¯Œ ğŸ™‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å–œæ¬¢ç©·æ¸¸ä¸ç»è¥ç±»æ¸¸æˆï¼Œçƒ­çˆ±éŸ³ä¹ã€ç”µå½±ä¸è‰ºæœ¯è¡¨æ¼”ï¼›&lt;/p&gt;

&lt;h4 id=&#34;ä¸ªäººæ€»ç»“&#34;&gt;ä¸ªäººæ€»ç»“&lt;/h4&gt;

&lt;h5 id=&#34;golang&#34;&gt;Golang&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;Webï¼šginã€echo&lt;/li&gt;
&lt;li&gt;orm ï¼šgormã€xorm&lt;/li&gt;
&lt;li&gt;rpcï¼šgprcã€ protobuf&lt;/li&gt;
&lt;li&gt;å…¶ä»–å·¥å…·åŒ…&lt;/li&gt;
&lt;li&gt;åº•å±‚ã€å¹¶å‘ã€ç¼–è¯‘å™¨&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&#34;ä¹¦ç±&#34;&gt;ä¹¦ç±&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;Go è¯­è¨€åˆå­¦ï¼šï¼š&lt;a href=&#34;https://tour.go-zh.org/welcome/1&#34;&gt;A tour of go&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Go è¯­è¨€å…¥é—¨ï¼š&lt;a href=&#34;https://books.studygolang.com/gopl-zh/&#34;&gt;The Go Programming Language&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Go è¯­è¨€è¿›é˜¶ï¼š&lt;a href=&#34;https://chai2010.cn/advanced-go-programming-book&#34;&gt;Go è¯­è¨€é«˜çº§ç¼–ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ã€Šä¸‰ä½“ã€‹&lt;/li&gt;
&lt;li&gt;ã€Šæ–‡åŒ–è‹¦æ—…ã€‹ã€ã€Šæ´»ç€ã€‹ã€ã€Šå¹³å‡¡çš„ä¸–ç•Œã€‹&lt;/li&gt;
&lt;li&gt;ã€Šä¸‹ä¸€ä¸ªå€’ä¸‹çš„ä¼šä¸ä¼šæ˜¯åä¸ºã€‹&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&#34;è®¾å¤‡&#34;&gt;è®¾å¤‡&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;ç¬”è®°æœ¬ï¼šHP Spectre X360 2019ï¼ˆæ‰“ç®—å…¥ä¸ªè‹±ç‰¹å°”NUCï¼‰&lt;/li&gt;
&lt;li&gt;æ¸¸æˆæœºï¼šXbox One X&lt;/li&gt;
&lt;li&gt;é”®ç›˜ï¼šmassdrop CTRL&lt;/li&gt;
&lt;li&gt;ç§»åŠ¨ç¡¬ç›˜ï¼šåä¸ºå¤‡å’–å­˜å‚¨&lt;/li&gt;
&lt;li&gt;è€³æœºï¼šæ£®æµ·å¡å°” IE80Sã€èµ›ç¿ X100&lt;/li&gt;
&lt;li&gt;å±å¹•ï¼šLG 29UM59A 21:9ï¼ˆæ‰“ç®—æ¢æ‰äº†ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&#34;å·¥å…·&#34;&gt;å·¥å…·&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;IDEï¼šä¸» Goland + è¾…  VS Code&lt;/li&gt;
&lt;li&gt;Markdown ç¼–è¾‘å™¨ï¼šTypora&lt;/li&gt;
&lt;li&gt;å¨±ä¹ï¼šç½‘æ˜“äº‘éŸ³ä¹UWP&lt;/li&gt;
&lt;li&gt;HTTP ä»£ç†ï¼š&lt;a href=&#34;https://github.com/wingsxdu/blogServer&#34;&gt;è‡ªå·±å†™äº†ä¸€ä¸ªç®€å•çš„httpä»£ç†è¿”å›é™æ€æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
      
    </item>
    
    <item>
      <title>å¹¶å‘ç¼–ç¨‹ä¸ Goroutine è°ƒåº¦</title>
      <link>https://www.wingsxdu.com/post/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E4%B8%8E-goroutine-%E8%B0%83%E5%BA%A6/</link>
      <pubDate>Sun, 29 Sep 2019 17:20:37 +0800</pubDate>
      
      <guid>https://www.wingsxdu.com/post/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E4%B8%8E-goroutine-%E8%B0%83%E5%BA%A6/</guid>
      
        <description>

&lt;h4 id=&#34;å¹¶å‘ä¸å¹¶è¡Œ&#34;&gt;å¹¶å‘ä¸å¹¶è¡Œ&lt;/h4&gt;

&lt;p&gt;å¹¶è¡Œæ˜¯æŒ‡ä¸¤ä¸ªæˆ–è€…å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶åˆ»å‘ç”Ÿï¼›å¹¶å‘æ˜¯æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶é—´é—´éš”å‘ç”Ÿã€‚&lt;/p&gt;

&lt;p&gt;å¹¶è¡Œæ˜¯åœ¨ä¸åŒå®ä½“ä¸Šçš„å¤šä¸ªäº‹ä»¶ï¼Œåœ¨å¤šå°å¤„ç†å™¨ä¸ŠåŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡ã€‚å¹¶å‘æ˜¯åœ¨åŒä¸€å®ä½“ä¸Šçš„å¤šä¸ªäº‹ä»¶,åœ¨ä¸€å°å¤„ç†å™¨ä¸Šâ€œåŒæ—¶â€å¤„ç†å¤šä¸ªä»»åŠ¡ã€‚&lt;/p&gt;

&lt;p&gt;å¹¶å‘åé‡äºå¤šä¸ªä»»åŠ¡äº¤æ›¿æ‰§è¡Œï¼Œè€Œå¤šä¸ªä»»åŠ¡ä¹‹é—´æœ‰å¯èƒ½è¿˜æ˜¯ä¸²è¡Œçš„ã€‚è€Œå¹¶è¡Œæ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„â€œåŒæ—¶æ‰§è¡Œâ€ã€‚&lt;/p&gt;

&lt;p&gt;å¹¶å‘ç¼–ç¨‹æ˜¯æŒ‡åœ¨ä¸€å°å¤„ç†å™¨ä¸Šâ€œåŒæ—¶â€å¤„ç†å¤šä¸ªä»»åŠ¡ã€‚å¹¶å‘æ˜¯åœ¨åŒä¸€å®ä½“ä¸Šçš„å¤šä¸ªäº‹ä»¶ã€‚å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶é—´é—´éš”å‘ç”Ÿã€‚å¹¶å‘ç¼–ç¨‹çš„ç›®æ ‡æ˜¯å……åˆ†çš„åˆ©ç”¨å¤„ç†å™¨çš„æ¯ä¸€ä¸ªæ ¸ï¼Œä»¥è¾¾åˆ°æœ€é«˜çš„å¤„ç†æ€§èƒ½ã€‚&lt;/p&gt;

&lt;h4 id=&#34;åç¨‹-çº¿ç¨‹-è¿›ç¨‹çš„åŒºåˆ«&#34;&gt;åç¨‹ï¼Œçº¿ç¨‹ï¼Œè¿›ç¨‹çš„åŒºåˆ«ã€‚&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;è¿›ç¨‹&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿›ç¨‹æ˜¯å…·æœ‰ä¸€å®šç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºå…³äºæŸä¸ªæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œè¿›ç¨‹æ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½ã€‚æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„ç‹¬ç«‹å†…å­˜ç©ºé—´ï¼Œä¸åŒè¿›ç¨‹é€šè¿‡è¿›ç¨‹é—´é€šä¿¡æ¥é€šä¿¡ã€‚ç”±äºè¿›ç¨‹æ¯”è¾ƒé‡é‡ï¼Œå æ®ç‹¬ç«‹çš„å†…å­˜ï¼Œæ‰€ä»¥ä¸Šä¸‹æ–‡è¿›ç¨‹é—´çš„åˆ‡æ¢å¼€é”€ï¼ˆæ ˆã€å¯„å­˜å™¨ã€è™šæ‹Ÿå†…å­˜ã€æ–‡ä»¶å¥æŸ„ç­‰ï¼‰æ¯”è¾ƒå¤§ï¼Œä½†ç›¸å¯¹æ¯”è¾ƒç¨³å®šå®‰å…¨ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;çº¿ç¨‹&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªå®ä½“ï¼Œæ˜¯ CPU è°ƒåº¦å’Œåˆ†æ´¾çš„åŸºæœ¬å•ä½ï¼Œå®ƒæ˜¯æ¯”è¿›ç¨‹æ›´å°çš„èƒ½ç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½ã€‚çº¿ç¨‹è‡ªå·±åŸºæœ¬ä¸Šä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æºï¼Œåªæ‹¥æœ‰ä¸€ç‚¹åœ¨è¿è¡Œä¸­å¿…ä¸å¯å°‘çš„èµ„æºï¼ˆå¦‚ç¨‹åºè®¡æ•°å™¨ï¼Œä¸€ç»„å¯„å­˜å™¨å’Œæ ˆï¼‰ï¼Œä½†æ˜¯å®ƒå¯ä¸åŒå±ä¸€ä¸ªè¿›ç¨‹çš„å…¶ä»–çš„çº¿ç¨‹å…±äº«è¿›ç¨‹æ‰€æ‹¥æœ‰çš„å…¨éƒ¨èµ„æºã€‚çº¿ç¨‹é—´ä¸»è¦é€šè¿‡å…±äº«å†…å­˜é€šä¿¡ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢å¾ˆå¿«ï¼Œèµ„æºå¼€é”€è¾ƒå°‘ï¼Œä½†ç›¸æ¯”è¿›ç¨‹ä¸å¤Ÿç¨³å®šå®¹æ˜“ä¸¢å¤±æ•°æ®ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;åç¨‹&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åç¨‹æ˜¯ä¸€ç§ç”¨æˆ·æ€çš„è½»é‡çº§çº¿ç¨‹ï¼Œåç¨‹çš„è°ƒåº¦å®Œå…¨ç”±ç”¨æˆ·æ§åˆ¶ã€‚åç¨‹æ‹¥æœ‰è‡ªå·±çš„å¯„å­˜å™¨ä¸Šä¸‹æ–‡å’Œæ ˆã€‚åç¨‹è°ƒåº¦åˆ‡æ¢æ—¶ï¼Œå°†å¯„å­˜å™¨ä¸Šä¸‹æ–‡å’Œæ ˆä¿å­˜åˆ°å…¶ä»–åœ°æ–¹ï¼Œåœ¨åˆ‡å›æ¥çš„æ—¶å€™ï¼Œæ¢å¤å…ˆå‰ä¿å­˜çš„å¯„å­˜å™¨ä¸Šä¸‹æ–‡å’Œæ ˆï¼Œå› ä¸ºæ˜¯ç›´æ¥æ“ä½œæ ˆåˆ™åŸºæœ¬æ²¡æœ‰å†…æ ¸åˆ‡æ¢çš„å¼€é”€ï¼Œå¯ä»¥ä¸åŠ é”çš„è®¿é—®å…¨å±€å˜é‡ï¼Œæ‰€ä»¥ä¸Šä¸‹æ–‡çš„åˆ‡æ¢éå¸¸å¿«ã€‚&lt;/p&gt;

&lt;h4 id=&#34;goroutine-è°ƒåº¦&#34;&gt;Goroutine è°ƒåº¦&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;DO NOT COMMUNICATE BY SHARING MEMORY; INSTEAD, SHARE MEMORY BY COMMUNICATING.
â€œä¸è¦é€šè¿‡å…±äº«å†…å­˜æ¥é€šä¿¡ï¼Œè€Œåº”é€šè¿‡é€šä¿¡æ¥å…±äº«å†…å­˜ã€‚â€&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h6 id=&#34;goroutine&#34;&gt;Goroutine&lt;/h6&gt;

&lt;p&gt;Goroutineï¼ŒGoè¯­è¨€åŸºäºå¹¶å‘ï¼ˆå¹¶è¡Œï¼‰ç¼–ç¨‹ç»™å‡ºçš„è§£å†³æ–¹æ¡ˆã€‚é€šå¸¸ goroutine ä¼šè¢«å½“åš coroutineï¼ˆåç¨‹ï¼‰çš„ golang å®ç°ï¼Œä»æ¯”è¾ƒç²—æµ…çš„å±‚é¢æ¥çœ‹ï¼Œè¿™ç§è®¤çŸ¥ä¹Ÿç®—æ˜¯åˆç†ã€‚ä½†å®é™…ä¸Šï¼Œgoroutineå¹¶éä¼ ç»Ÿæ„ä¹‰ä¸Šçš„åç¨‹ï¼Œç°åœ¨ä¸»æµçš„çº¿ç¨‹æ¨¡å‹åˆ†ä¸‰ç§ï¼šå†…æ ¸çº§çº¿ç¨‹æ¨¡å‹ã€ç”¨æˆ·çº§çº¿ç¨‹æ¨¡å‹å’Œä¸¤çº§çº¿ç¨‹æ¨¡å‹ï¼ˆä¹Ÿç§°æ··åˆå‹çº¿ç¨‹æ¨¡å‹ï¼‰ï¼Œä¼ ç»Ÿçš„åç¨‹åº“å±äº&lt;strong&gt;ç”¨æˆ·çº§çº¿ç¨‹æ¨¡å‹&lt;/strong&gt;ï¼Œè€Œ goroutine å’Œå®ƒçš„&lt;code&gt;Go Scheduler&lt;/code&gt;åœ¨åº•å±‚å®ç°ä¸Šå…¶å®æ˜¯å±äº&lt;strong&gt;ä¸¤çº§çº¿ç¨‹æ¨¡å‹&lt;/strong&gt;ï¼Œå› æ­¤ï¼Œæœ‰æ—¶å€™ä¸ºäº†æ–¹ä¾¿ç†è§£å¯ä»¥ç®€å•æŠŠgoroutineç±»æ¯”æˆåç¨‹ï¼Œä½†ä¸€å®šè¦æœ‰ä¸ªæ¸…æ™°çš„è®¤çŸ¥â€”â€”goroutineå¹¶ä¸ç­‰åŒäºåç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;goroutineä½¿ç”¨æ–¹å¼éå¸¸çš„ç®€å•ï¼Œåªéœ€ä½¿ç”¨ &lt;code&gt;go&lt;/code&gt; å…³é”®å­—å³å¯å¯åŠ¨ä¸€ä¸ªåç¨‹ï¼Œå¹¶ä¸”å®ƒæ˜¯å¤„äºå¼‚æ­¥æ–¹å¼è¿è¡Œï¼Œä½ ä¸éœ€è¦ç­‰å®ƒè¿è¡Œå®Œæˆä»¥ååœ¨æ‰§è¡Œä»¥åçš„ä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;go func() // é€šè¿‡goå…³é”®å­—å¯åŠ¨ä¸€ä¸ªåç¨‹æ¥è¿è¡Œå‡½æ•°&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Goçš„è°ƒåº¦å™¨å†…éƒ¨æœ‰å››ä¸ªé‡è¦çš„ç»“æ„ï¼šMï¼ŒPï¼ŒSï¼ŒSchedï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼ˆSched æœªç»™å‡ºï¼‰ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Gï¼šè¡¨ç¤º Goroutineï¼Œæ¯ä¸ª Goroutine å¯¹åº”ä¸€ä¸ªGç»“æ„ä½“ï¼ŒG å­˜å‚¨ Goroutine çš„è¿è¡Œå †æ ˆã€çŠ¶æ€ä»¥åŠä»»åŠ¡å‡½æ•°ï¼Œå¯é‡ç”¨ã€‚Gå¹¶éæ‰§è¡Œä½“ï¼Œæ¯ä¸ª G éœ€è¦ç»‘å®šåˆ° P æ‰èƒ½è¢«è°ƒåº¦æ‰§è¡Œã€‚&lt;/li&gt;
&lt;li&gt;Pï¼š Processorï¼Œè¡¨ç¤ºé€»è¾‘å¤„ç†å™¨ã€‚ å¯¹Gæ¥è¯´ï¼ŒP ç›¸å½“äº CPU æ ¸ï¼ŒG åªæœ‰ç»‘å®šåˆ° P ï¼ˆåœ¨ P çš„ local  é˜Ÿåˆ—ä¸­ï¼‰æ‰èƒ½è¢«è°ƒåº¦ã€‚å¯¹ M æ¥è¯´ï¼ŒP æä¾›äº†ç›¸å…³çš„æ‰§è¡Œç¯å¢ƒï¼ˆContextï¼‰ï¼Œå¦‚å†…å­˜åˆ†é…çŠ¶æ€ï¼ˆmcacheï¼‰ï¼Œä»»åŠ¡é˜Ÿåˆ—ï¼ˆGï¼‰ç­‰ï¼Œ Pçš„æ•°é‡å†³å®šäº†ç³»ç»Ÿå†…æœ€å¤§å¯å¹¶è¡Œçš„ G çš„æ•°é‡ï¼ˆå‰æï¼šç‰©ç†CPUæ ¸æ•° &amp;gt;= P çš„æ•°é‡ï¼‰ï¼ŒP çš„æ•°é‡ç”±ç”¨æˆ·è®¾ç½®çš„ GOMAXPROCS å†³å®šï¼Œä½†æ˜¯ä¸è®º GOMAXPROCS è®¾ç½®ä¸ºå¤šå¤§ï¼ŒPçš„æ•°é‡æœ€å¤§ä¸º256ã€‚&lt;/li&gt;
&lt;li&gt;Mï¼šMachineï¼ŒOSçº¿ç¨‹æŠ½è±¡ï¼Œä»£è¡¨ç€çœŸæ­£æ‰§è¡Œè®¡ç®—çš„èµ„æºï¼Œåœ¨ç»‘å®šæœ‰æ•ˆçš„Påï¼Œè¿›å…¥ schedule å¾ªç¯ï¼›è€Œ schedule å¾ªç¯çš„æœºåˆ¶å¤§è‡´æ˜¯ä» Global é˜Ÿåˆ—ã€P çš„ Local é˜Ÿåˆ—ä»¥åŠ wait é˜Ÿåˆ—ä¸­è·å– Gï¼Œåˆ‡æ¢åˆ° G çš„æ‰§è¡Œæ ˆä¸Šå¹¶æ‰§è¡ŒG çš„å‡½æ•°ï¼Œè°ƒç”¨ goexit åšæ¸…ç†å·¥ä½œå¹¶å›åˆ° Mï¼Œå¦‚æ­¤åå¤ã€‚M å¹¶ä¸ä¿ç•™ G çŠ¶æ€ï¼Œè¿™æ˜¯ G å¯ä»¥è·¨ M è°ƒåº¦çš„åŸºç¡€ï¼ŒM çš„æ•°é‡æ˜¯ä¸å®šçš„ï¼Œç”± Go Runtimeè°ƒæ•´ï¼Œä¸ºäº†é˜²æ­¢åˆ›å»ºè¿‡å¤š OS çº¿ç¨‹å¯¼è‡´ç³»ç»Ÿè°ƒåº¦ä¸è¿‡æ¥ï¼Œç›®å‰é»˜è®¤æœ€å¤§é™åˆ¶ä¸º10000ä¸ªã€‚&lt;/li&gt;
&lt;li&gt;Schedï¼šä»£è¡¨è°ƒåº¦å™¨ï¼Œå®ƒç»´æŠ¤æœ‰å­˜å‚¨Må’ŒGçš„é˜Ÿåˆ—ä»¥åŠè°ƒåº¦å™¨çš„ä¸€äº›çŠ¶æ€ä¿¡æ¯ç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&#34;https://www.wingsxdu.com/image/goroutine1.jpg&#34; alt=&#34;goroutine1&#34; /&gt;&lt;/p&gt;

&lt;h6 id=&#34;g-p-m-æ¨¡å‹è°ƒåº¦&#34;&gt;G-P-M æ¨¡å‹è°ƒåº¦&lt;/h6&gt;

&lt;p&gt;&lt;img src=&#34;https://www.wingsxdu.com/image/goroutine-scheduler-model.png&#34; alt=&#34;goroutine-scheduler-model&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Go è°ƒåº¦å™¨å·¥ä½œæ—¶ä¼šç»´æŠ¤ä¸¤ç§ç”¨æ¥ä¿å­˜ G çš„ä»»åŠ¡é˜Ÿåˆ—ï¼šä¸€ç§æ˜¯ä¸€ä¸ª Global ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¸€ç§æ˜¯æ¯ä¸ª P ç»´æŠ¤çš„ Local ä»»åŠ¡é˜Ÿåˆ—ã€‚&lt;/p&gt;

&lt;p&gt;å½“é€šè¿‡&lt;code&gt;go&lt;/code&gt;å…³é”®å­—åˆ›å»ºä¸€ä¸ªæ–°çš„ goroutine çš„æ—¶å€™ï¼Œå®ƒä¼šä¼˜å…ˆè¢«æ”¾å…¥P çš„æœ¬åœ°é˜Ÿåˆ—ã€‚ä¸ºäº†è¿è¡Œgoroutineï¼ŒM éœ€è¦æŒæœ‰ï¼ˆç»‘å®šï¼‰ä¸€ä¸ª Pï¼Œæ¥ç€Mä¼šå¯åŠ¨ä¸€ä¸ª OSçº¿ç¨‹ï¼Œå¾ªç¯ä»Pçš„æœ¬åœ°é˜Ÿåˆ—é‡Œå–å‡ºä¸€ä¸ª goroutine å¹¶æ‰§è¡Œã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://www.wingsxdu.com/image/goroutine2.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæœ‰2ä¸ªç‰©ç†çº¿ç¨‹Mï¼Œæ¯ä¸€ä¸ªMéƒ½æ‹¥æœ‰ä¸€ä¸ªå¤„ç†å™¨Pï¼Œæ¯ä¸€ä¸ªä¹Ÿéƒ½æœ‰ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„goroutineã€‚Pçš„æ•°é‡å¯ä»¥é€šè¿‡GOMAXPROCS()æ¥è®¾ç½®ï¼Œå®ƒå…¶å®ä¹Ÿå°±ä»£è¡¨äº†çœŸæ­£çš„å¹¶å‘åº¦ï¼Œå³æœ‰å¤šå°‘ä¸ªgoroutineå¯ä»¥åŒæ—¶è¿è¡Œã€‚&lt;/p&gt;

&lt;p&gt;é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ &lt;code&gt;work-stealing&lt;/code&gt;è°ƒåº¦ç®—æ³•ï¼šå½“ M æ‰§è¡Œå®Œäº†å½“å‰ P çš„ Local é˜Ÿåˆ—é‡Œçš„æ‰€æœ‰ G åï¼ŒP ä¹Ÿä¸ä¼šå°±è¿™ä¹ˆåœ¨é‚£èººå°¸å•¥éƒ½ä¸å¹²ï¼Œå®ƒä¼šå…ˆå°è¯•ä» Global é˜Ÿåˆ—å¯»æ‰¾ G æ¥æ‰§è¡Œï¼Œå¦‚æœ Globalé˜Ÿåˆ—ä¸ºç©ºï¼Œå®ƒä¼šéšæœºæŒ‘é€‰å¦å¤–ä¸€ä¸ª Pï¼Œä»å®ƒçš„é˜Ÿåˆ—é‡Œä¸­æ‹¿èµ°ä¸€åŠçš„ G åˆ°è‡ªå·±çš„é˜Ÿåˆ—ä¸­æ‰§è¡Œã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://www.wingsxdu.com/image/goroutine3.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h4 id=&#34;ä¸ºä»€ä¹ˆè¦æœ‰-p-processor&#34;&gt;ä¸ºä»€ä¹ˆè¦æœ‰ P(Processor) ï¼Ÿ&lt;/h4&gt;

&lt;p&gt;ä½ å¯èƒ½ä¼šæƒ³ï¼Œä¸ºä»€ä¹ˆä¸€å®šéœ€è¦ä¸€ä¸ªä¸Šä¸‹æ–‡ï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½ç›´æ¥é™¤å»ä¸Šä¸‹æ–‡ï¼Œè®© &lt;code&gt;Goroutine&lt;/code&gt; çš„ &lt;code&gt;runqueues&lt;/code&gt; æŒ‚åˆ°Mä¸Šå‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä¸è¡Œï¼Œéœ€è¦ä¸Šä¸‹æ–‡çš„ç›®çš„ï¼Œæ˜¯è®©æˆ‘ä»¬å¯ä»¥ç›´æ¥æ”¾å¼€å…¶ä»–çº¿ç¨‹ï¼Œå½“é‡åˆ°å†…æ ¸çº¿ç¨‹é˜»å¡çš„æ—¶å€™ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€ä¸ªå¾ˆç®€å•çš„ä¾‹å­å°±æ˜¯ç³»ç»Ÿè°ƒç”¨ &lt;code&gt;sysall&lt;/code&gt;ï¼Œä¸€ä¸ªçº¿ç¨‹è‚¯å®šä¸èƒ½åŒæ—¶æ‰§è¡Œä»£ç å’Œç³»ç»Ÿè°ƒç”¨è¢«é˜»å¡ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæ­¤çº¿ç¨‹Méœ€è¦æ”¾å¼ƒå½“å‰çš„ä¸Šä¸‹æ–‡ç¯å¢ƒ Pï¼Œä»¥ä¾¿å¯ä»¥è®©å…¶ä»–çš„ &lt;code&gt;Goroutine&lt;/code&gt; è¢«è°ƒåº¦æ‰§è¡Œã€‚&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>GC åƒåœ¾å›æ”¶æœºåˆ¶(æ”¹)</title>
      <link>https://www.wingsxdu.com/post/2019-09-29-gc%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/</link>
      <pubDate>Fri, 27 Sep 2019 21:42:49 +0800</pubDate>
      
      <guid>https://www.wingsxdu.com/post/2019-09-29-gc%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/</guid>
      
        <description>

&lt;p&gt;é¦–å…ˆæˆ‘ä»¬äº†è§£ä¸‹ä»€ä¹ˆæ˜¯åƒåœ¾å›æ”¶&lt;/p&gt;

&lt;p&gt;å†…å­˜ç®¡ç†æ˜¯å¼€å‘åº”ç”¨ä¸­çš„ä¸€å¤§éš¾é¢˜ã€‚ä¼ ç»Ÿçš„ç³»ç»Ÿçº§ç¼–ç¨‹è¯­è¨€ï¼ˆä¸»è¦æŒ‡C/C++ï¼‰ä¸­ï¼Œç¨‹åºå¼€å‘è€…å¿…é¡»å¯¹å†…å­˜å°å¿ƒçš„è¿›è¡Œç®¡ç†æ“ä½œï¼Œæ§åˆ¶å†…å­˜çš„ç”³è¯·åŠé‡Šæ”¾ã€‚å› ä¸ºç¨æœ‰ä¸æ…ï¼Œå°±å¯èƒ½äº§ç”Ÿå†…å­˜æ³„éœ²é—®é¢˜ï¼Œè¿™ç§é—®é¢˜ä¸æ˜“å‘ç°å¹¶ä¸”éš¾ä»¥å®šä½ï¼Œä¸€ç›´æˆä¸ºå›°æ‰°ç¨‹åºå¼€å‘è€…çš„å™©æ¢¦ã€‚&lt;/p&gt;

&lt;h4 id=&#34;è¿‡å»å¸¸é‡‡ç”¨çš„ä¸¤ç§å†…å­˜ç®¡ç†æ–¹æ³•&#34;&gt;è¿‡å»å¸¸é‡‡ç”¨çš„ä¸¤ç§å†…å­˜ç®¡ç†æ–¹æ³•&lt;/h4&gt;

&lt;h6 id=&#34;å†…å­˜æ³„éœ²æ£€æµ‹å·¥å…·&#34;&gt;å†…å­˜æ³„éœ²æ£€æµ‹å·¥å…·&lt;/h6&gt;

&lt;p&gt;è¿™ç§å·¥å…·çš„åŸç†ä¸€èˆ¬æ˜¯é™æ€ä»£ç æ‰«æï¼Œé€šè¿‡æ‰«æç¨‹åºæ£€æµ‹å¯èƒ½å‡ºç°å†…å­˜æ³„éœ²çš„ä»£ç æ®µã€‚ç„¶è€Œæ£€æµ‹å·¥å…·éš¾å…æœ‰ç–æ¼å’Œä¸è¶³ï¼Œåªèƒ½èµ·åˆ°è¾…åŠ©ä½œç”¨ã€‚&lt;/p&gt;

&lt;h6 id=&#34;æ™ºèƒ½æŒ‡é’ˆ&#34;&gt;æ™ºèƒ½æŒ‡é’ˆ&lt;/h6&gt;

&lt;p&gt;è¿™æ˜¯ c++ ä¸­å¼•å…¥çš„è‡ªåŠ¨å†…å­˜ç®¡ç†æ–¹æ³•ï¼Œé€šè¿‡æ‹¥æœ‰è‡ªåŠ¨å†…å­˜ç®¡ç†åŠŸèƒ½çš„æŒ‡é’ˆå¯¹è±¡æ¥å¼•ç”¨å¯¹è±¡ï¼Œä½¿ç¨‹åºå‘˜ä¸ç”¨å¤ªå…³æ³¨å†…å­˜çš„é‡Šæ”¾ï¼Œè€Œè¾¾åˆ°å†…å­˜è‡ªåŠ¨é‡Šæ”¾çš„ç›®çš„ã€‚è¿™ç§æ–¹æ³•æ˜¯æœ€å¹¿æ³›çš„åšæ³•ï¼Œä½†æ˜¯å¯¹ç¨‹åºå¼€å‘è€…æœ‰ä¸€å®šçš„å­¦ä¹ æˆæœ¬ï¼ˆå¹¶éè¯­è¨€å±‚é¢çš„åŸç”Ÿæ”¯æŒï¼‰ï¼Œè€Œä¸”ä¸€æ—¦æœ‰å¿˜è®°ä½¿ç”¨çš„åœºæ™¯ä¾ç„¶æ— æ³•é¿å…å†…å­˜æ³„éœ²ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåæ¥å¼€å‘å‡ºæ¥çš„å‡ ä¹æ‰€æœ‰æ–°è¯­è¨€ï¼ˆjavaï¼Œpythonï¼Œphp ç­‰ç­‰ï¼‰éƒ½å¼•å…¥äº†è¯­è¨€å±‚é¢çš„è‡ªåŠ¨å†…å­˜ç®¡ç† â€”â€”ä¹Ÿå°±æ˜¯è¯­è¨€çš„ä½¿ç”¨è€…åªç”¨å…³æ³¨å†…å­˜çš„ç”³è¯·è€Œä¸å¿…å…³å¿ƒå†…å­˜çš„é‡Šæ”¾ï¼Œå†…å­˜é‡Šæ”¾ç”±è™šæ‹Ÿæœºï¼ˆvirtual machineï¼‰æˆ–è¿è¡Œæ—¶ï¼ˆruntimeï¼‰æ¥è‡ªåŠ¨è¿›è¡Œç®¡ç†ã€‚è€Œè¿™ç§å¯¹ä¸å†ä½¿ç”¨çš„å†…å­˜èµ„æºè¿›è¡Œè‡ªåŠ¨å›æ”¶çš„è¡Œä¸ºå°±è¢«ç§°ä¸ºåƒåœ¾å›æ”¶ã€‚&lt;/p&gt;

&lt;h4 id=&#34;æ–°ç”Ÿä»£è¯­è¨€å¸¸ç”¨çš„åƒåœ¾å›æ”¶çš„æ–¹æ³•&#34;&gt;æ–°ç”Ÿä»£è¯­è¨€å¸¸ç”¨çš„åƒåœ¾å›æ”¶çš„æ–¹æ³•&lt;/h4&gt;

&lt;h6 id=&#34;1-å¼•ç”¨è®¡æ•°-reference-counting&#34;&gt;1.å¼•ç”¨è®¡æ•°ï¼ˆreference countingï¼‰&lt;/h6&gt;

&lt;p&gt;è¿™æ˜¯æœ€ç®€å•çš„ä¸€ç§åƒåœ¾å›æ”¶ç®—æ³•ï¼Œå’Œä¹‹å‰æåˆ°çš„æ™ºèƒ½æŒ‡é’ˆå¼‚æ›²åŒå·¥ã€‚å¯¹æ¯ä¸ªå¯¹è±¡ç»´æŠ¤ä¸€ä¸ªå¼•ç”¨è®¡æ•°ï¼Œå½“å¼•ç”¨è¯¥å¯¹è±¡çš„å¯¹è±¡è¢«é”€æ¯æˆ–æ›´æ–°æ—¶è¢«å¼•ç”¨å¯¹è±¡çš„å¼•ç”¨è®¡æ•°è‡ªåŠ¨å‡ä¸€ï¼Œå½“è¢«å¼•ç”¨å¯¹è±¡è¢«åˆ›å»ºæˆ–è¢«èµ‹å€¼ç»™å…¶ä»–å¯¹è±¡æ—¶å¼•ç”¨è®¡æ•°è‡ªåŠ¨åŠ ä¸€ï¼Œå½“å¼•ç”¨è®¡æ•°ä¸º0æ—¶åˆ™ç«‹å³å›æ”¶å¯¹è±¡ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯å®ç°ç®€å•ï¼Œå¹¶ä¸”å†…å­˜çš„å›æ”¶å¾ˆåŠæ—¶ã€‚è¿™ç§ç®—æ³•åœ¨å†…å­˜æ¯”è¾ƒç´§å¼ å’Œå®æ—¶æ€§æ¯”è¾ƒé«˜çš„ç³»ç»Ÿä¸­ä½¿ç”¨çš„æ¯”è¾ƒå¹¿æ³›ï¼Œå¦‚ios cocoaæ¡†æ¶ã€phpã€pythonç­‰ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯ç®€å•å¼•ç”¨è®¡æ•°ç®—æ³•ä¹Ÿæœ‰æ˜æ˜¾çš„ç¼ºç‚¹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;é¢‘ç¹æ›´æ–°å¼•ç”¨è®¡æ•°é™ä½äº†æ€§èƒ½ï¼šä¸€ç§ç®€å•çš„è§£å†³æ–¹æ³•å°±æ˜¯ç¼–è¯‘å™¨å°†ç›¸é‚»çš„å¼•ç”¨è®¡æ•°æ›´æ–°æ“ä½œåˆå¹¶åˆ°ä¸€æ¬¡æ›´æ–°ï¼›è¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯é’ˆå¯¹é¢‘ç¹å‘ç”Ÿçš„ä¸´æ—¶å˜é‡å¼•ç”¨ä¸è¿›è¡Œè®¡æ•°ï¼Œè€Œæ˜¯åœ¨å¼•ç”¨è¾¾åˆ°0æ—¶é€šè¿‡æ‰«æå †æ ˆç¡®è®¤æ˜¯å¦è¿˜æœ‰ä¸´æ—¶å¯¹è±¡å¼•ç”¨è€Œå†³å®šæ˜¯å¦é‡Šæ”¾ã€‚é™¤æ­¤ä¹‹å¤–è¿˜æœ‰å¾ˆå¤šå…¶ä»–æ–¹æ³•ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å¾ªç¯å¼•ç”¨ï¼šå½“å¯¹è±¡é—´å‘ç”Ÿå¾ªç¯å¼•ç”¨æ—¶å¼•ç”¨é“¾ä¸­çš„å¯¹è±¡éƒ½æ— æ³•å¾—åˆ°é‡Šæ”¾ã€‚æœ€æ˜æ˜¾çš„è§£å†³åŠæ³•æ˜¯é¿å…äº§ç”Ÿå¾ªç¯å¼•ç”¨ï¼Œå¦‚ cocoa å¼•å…¥äº† strong æŒ‡é’ˆå’Œweak æŒ‡é’ˆä¸¤ç§æŒ‡é’ˆç±»å‹ã€‚æˆ–è€…ç³»ç»Ÿæ£€æµ‹å¾ªç¯å¼•ç”¨å¹¶ä¸»åŠ¨æ‰“ç ´å¾ªç¯é“¾ï¼Œå½“ç„¶è¿™ä¹Ÿå¢åŠ äº†åƒåœ¾å›æ”¶çš„å¤æ‚åº¦ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h6 id=&#34;2-æ ‡è®°-æ¸…é™¤-mark-and-sweep&#34;&gt;2.æ ‡è®°-æ¸…é™¤ï¼ˆmark and sweepï¼‰&lt;/h6&gt;

&lt;p&gt;æ ‡è®°-æ¸…é™¤ï¼ˆmark and sweepï¼‰åˆ†ä¸ºä¸¤æ­¥ï¼Œæ ‡è®°ä»æ ¹å˜é‡å¼€å§‹è¿­ä»£éå†æ‰€æœ‰è¢«å¼•ç”¨çš„å¯¹è±¡ï¼Œå¯¹èƒ½å¤Ÿé€šè¿‡å¼•ç”¨éå†è®¿é—®åˆ°çš„å¯¹è±¡éƒ½è¿›è¡Œæ ‡è®°ä¸ºâ€œè¢«å¼•ç”¨â€ï¼›æ ‡è®°å®Œæˆåè¿›è¡Œæ¸…é™¤æ“ä½œï¼Œå¯¹æ²¡æœ‰æ ‡è®°è¿‡çš„å†…å­˜è¿›è¡Œå›æ”¶ï¼ˆå›æ”¶åŒæ—¶å¯èƒ½ä¼´æœ‰ç¢ç‰‡æ•´ç†æ“ä½œï¼‰ã€‚è¿™ç§æ–¹æ³•è§£å†³äº†å¼•ç”¨è®¡æ•°çš„ä¸è¶³ï¼Œä½†æ˜¯ä¹Ÿæœ‰æ¯”è¾ƒæ˜æ˜¾çš„é—®é¢˜ï¼šæ¯æ¬¡å¯åŠ¨åƒåœ¾å›æ”¶éƒ½ä¼šæš‚åœå½“å‰æ‰€æœ‰çš„æ­£å¸¸ä»£ç æ‰§è¡Œï¼Œå›æ”¶ä½¿ç³»ç»Ÿå“åº”èƒ½åŠ›å¤§å¤§é™ä½ï¼å½“ç„¶åç»­ä¹Ÿå‡ºç°äº†å¾ˆå¤š mark&amp;amp;sweep ç®—æ³•çš„å˜ç§ï¼ˆå¦‚ä¸‰è‰²æ ‡è®°æ³•ï¼‰ä¼˜åŒ–äº†è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;

&lt;h6 id=&#34;3-åˆ†ä»£æœé›†-generation&#34;&gt;3.åˆ†ä»£æœé›†ï¼ˆgenerationï¼‰&lt;/h6&gt;

&lt;p&gt;java çš„ jvm å°±ä½¿ç”¨çš„åˆ†ä»£å›æ”¶çš„æ€è·¯ã€‚åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œç»å¤§å¤šæ•°å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸéƒ½éå¸¸çŸ­ã€‚åˆ†ä»£æ”¶é›†çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼Œå°†å †åˆ’åˆ†ä¸ºä¸¤ä¸ªæˆ–å¤šä¸ªç§°ä¸ºä»£ï¼ˆgenerationï¼‰çš„ç©ºé—´ã€‚æ–°åˆ›å»ºçš„å¯¹è±¡å­˜æ”¾åœ¨ç§°ä¸ºæ–°ç”Ÿä»£ï¼ˆyoung generationï¼‰ä¸­ï¼ˆä¸€èˆ¬æ¥è¯´ï¼Œæ–°ç”Ÿä»£çš„å¤§å°ä¼šæ¯” è€å¹´ä»£å°å¾ˆå¤šï¼‰ï¼Œéšç€åƒåœ¾å›æ”¶çš„é‡å¤æ‰§è¡Œï¼Œç”Ÿå‘½å‘¨æœŸè¾ƒé•¿çš„å¯¹è±¡ä¼šè¢«æå‡ï¼ˆpromotionï¼‰åˆ°è€å¹´ä»£ä¸­ï¼ˆè¿™é‡Œç”¨åˆ°äº†ä¸€ä¸ªåˆ†ç±»çš„æ€è·¯ï¼Œè¿™ä¹Ÿæ˜¯ç§‘å­¦æ€è€ƒçš„ä¸€ä¸ªåŸºæœ¬æ€è·¯ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;å› æ­¤ï¼Œæ–°ç”Ÿä»£åƒåœ¾å›æ”¶å’Œè€å¹´ä»£åƒåœ¾å›æ”¶ä¸¤ç§ä¸åŒçš„åƒåœ¾å›æ”¶æ–¹å¼åº”è¿è€Œç”Ÿï¼Œåˆ†åˆ«ç”¨äºå¯¹å„è‡ªç©ºé—´ä¸­çš„å¯¹è±¡æ‰§è¡Œåƒåœ¾å›æ”¶ã€‚æ–°ç”Ÿä»£åƒåœ¾å›æ”¶çš„é€Ÿåº¦éå¸¸å¿«ï¼Œæ¯”è€å¹´ä»£å¿«å‡ ä¸ªæ•°é‡çº§ï¼Œå³ä½¿æ–°ç”Ÿä»£åƒåœ¾å›æ”¶çš„é¢‘ç‡æ›´é«˜ï¼Œæ‰§è¡Œæ•ˆç‡ä¹Ÿä»ç„¶æ¯”è€å¹´ä»£åƒåœ¾å›æ”¶å¼ºï¼Œè¿™æ˜¯å› ä¸ºå¤§å¤šæ•°å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸéƒ½å¾ˆçŸ­ï¼Œæ ¹æœ¬æ— éœ€æå‡åˆ°è€å¹´ä»£ã€‚&lt;/p&gt;

&lt;h4 id=&#34;golang-gc-æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ&#34;&gt;Golang GC æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ?&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;Golang 1.5åï¼Œé‡‡å–çš„æ˜¯&lt;strong&gt;éåˆ†ä»£çš„ã€éç§»åŠ¨çš„ã€å¹¶å‘çš„ã€ä¸‰è‰²çš„&lt;/strong&gt;æ ‡è®°æ¸…é™¤åƒåœ¾å›æ”¶ç®—æ³•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;golang ä¸­çš„ gc åŸºæœ¬ä¸Šæ˜¯æ ‡è®°æ¸…é™¤çš„è¿‡ç¨‹ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://www.wingsxdu.com/gc.jpg&#34; alt=&#34;gc&#34; /&gt;&lt;/p&gt;

&lt;p&gt;gc çš„è¿‡ç¨‹ä¸€å…±åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;æ ˆæ‰«æï¼ˆå¼€å§‹æ—¶ STWï¼‰&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸€æ¬¡æ ‡è®°ï¼ˆå¹¶å‘ï¼‰&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒæ¬¡æ ‡è®°ï¼ˆSTWï¼‰&lt;/li&gt;
&lt;li&gt;æ¸…é™¤ï¼ˆå¹¶å‘ï¼‰&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æ•´ä¸ªè¿›ç¨‹ç©ºé—´é‡Œç”³è¯·æ¯ä¸ªå¯¹è±¡å æ®çš„å†…å­˜å¯ä»¥è§†ä¸ºä¸€ä¸ªå›¾ï¼Œåˆå§‹çŠ¶æ€ä¸‹æ¯ä¸ªå†…å­˜å¯¹è±¡éƒ½æ˜¯ç™½è‰²æ ‡è®°ã€‚&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;å…ˆ STW(Stop-The-World) åšä¸€äº›å‡†å¤‡å·¥ä½œï¼Œæ¯”å¦‚ enable write barrierï¼ˆå†™å±éšœï¼‰ã€‚ç„¶åå–æ¶ˆ STWï¼Œå°†æ‰«æä»»åŠ¡ä½œä¸ºå¤šä¸ªå¹¶å‘çš„ goroutine ç«‹å³å…¥é˜Ÿç»™è°ƒåº¦å™¨ï¼Œè¿›è€Œè¢« CPU å¤„ç†ï¼›&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸€è½®å…ˆæ‰«æ root å¯¹è±¡ï¼ŒåŒ…æ‹¬å…¨å±€æŒ‡é’ˆå’Œ goroutine æ ˆä¸Šçš„æŒ‡é’ˆï¼Œæ ‡è®°ä¸ºç°è‰²æ”¾å…¥é˜Ÿåˆ—&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒè½®å°†ç¬¬ä¸€æ­¥é˜Ÿåˆ—ä¸­çš„å¯¹è±¡å¼•ç”¨çš„å¯¹è±¡ç½®ä¸ºç°è‰²åŠ å…¥é˜Ÿåˆ—ï¼Œä¸€ä¸ªå¯¹è±¡å¼•ç”¨çš„æ‰€æœ‰å¯¹è±¡éƒ½ç½®ç°å¹¶åŠ å…¥é˜Ÿåˆ—åï¼Œè¿™ä¸ªå¯¹è±¡æ‰èƒ½ç½®ä¸ºé»‘è‰²å¹¶ä»é˜Ÿåˆ—ä¹‹ä¸­å–å‡ºã€‚å¾ªç¯å¾€å¤ï¼Œæœ€åé˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œæ•´ä¸ªå›¾å‰©ä¸‹çš„ç™½è‰²å†…å­˜ç©ºé—´å³ä¸å¯åˆ°è¾¾çš„å¯¹è±¡ï¼Œå³æ²¡æœ‰è¢«å¼•ç”¨çš„å¯¹è±¡ï¼›&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰è½®å†æ¬¡ STWï¼Œå°†ç¬¬äºŒè½®è¿‡ç¨‹ä¸­æ–°å¢å¯¹è±¡ç”³è¯·çš„å†…å­˜è¿›è¡Œæ ‡è®°ï¼ˆç°è‰²ï¼‰ï¼Œè¿™é‡Œä½¿ç”¨äº†write barrierï¼ˆå†™å±éšœï¼‰å»è®°å½•&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Golang gc ä¼˜åŒ–çš„æ ¸å¿ƒå°±æ˜¯å°½é‡ä½¿å¾— STW(Stop The World) çš„æ—¶é—´è¶Šæ¥è¶ŠçŸ­ã€‚&lt;/p&gt;

&lt;p&gt;è¯¦ç»†çš„Golangçš„GCä»‹ç»å¯ä»¥å‚çœ‹&lt;a href=&#34;https://github.com/KeKe-Li/For-learning-Go-Tutorial/blob/master/src/spec/02.0.md&#34;&gt;Golangåƒåœ¾å›æ”¶&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;h4 id=&#34;å†…å­˜ä¼˜åŒ–&#34;&gt;å†…å­˜ä¼˜åŒ–&lt;/h4&gt;

&lt;p&gt;é€šå¸¸å°å¯¹è±¡è¿‡å¤šä¼šå¯¼è‡´ GC ä¸‰è‰²æ³•æ¶ˆè€—è¿‡å¤šçš„GPUã€‚åœ¨ç¼–ç¨‹è¿‡ç¨‹ä¸­ï¼Œå°½å¯èƒ½å‡å°‘å¯¹è±¡åˆ†é…ï¼Œå¦‚ä½¿ç”¨ç»“æ„ä½“å˜é‡ã€å‡å°‘å€¼ä¼ é€’ç­‰ã€‚&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>GO 1.13ç‰ˆæœ¬æ”¹è¿›</title>
      <link>https://www.wingsxdu.com/p1391/</link>
      <pubDate>Mon, 09 Sep 2019 03:45:17 +0000</pubDate>
      
      <guid>https://www.wingsxdu.com/p1391/</guid>
      
        <description>

&lt;p&gt;Go1.13 ç‰ˆæœ¬åœ¨ Go1.12 å‘å¸ƒå…­ä¸ªæœˆåæ¨å‡ºã€‚å®ƒçš„å¤§éƒ¨åˆ†å˜åŒ–éƒ½åœ¨å·¥å…·é“¾(toolchain)ï¼Œè¿è¡Œæ—¶(runtime)å’Œåº“çš„å®ç°ã€‚&lt;span&gt;ä»Â  Go1.13 å¼€å§‹ï¼Œåœ¨Go1.11å¼€å§‹é…é…¿çš„è¯¸å¤šå†³å®šç»ˆäºå¼€å§‹é€ä¸ªç”Ÿæ•ˆï¼šé¦–å…ˆæ˜¯æ¨¡å—åŒ–å°†æˆä¸ºé»˜è®¤çš„ç‰¹æ€§ï¼Œå½»åº•å‘Šåˆ«&lt;/span&gt;&lt;code&gt;GOPATH&lt;/code&gt;&lt;span&gt;æ—¶ä»£ï¼›å…¶æ¬¡æ˜¯ä¸æ˜¯å¤ªé‡è¦çš„äºŒè¿›åˆ¶ç‰¹æ€§å°†è¢«åºŸé™¤ï¼›æœ€åæ˜¯è¯­è¨€çš„è¿›åŒ–å°†å†æ¬¡å¯åŠ¨ï¼Œä¸€äº›ç»†å¾®çš„è¯­è¨€ç‰¹æ€§å°†åœ¨Go2åˆ°æ¥ä¹‹å‰è¢«æå‰å®ç°ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;åœ¨2018å¹´å®˜æ–¹å·²ç»å‘å¸ƒäº† Go2 çš„è®¾è®¡è‰æ¡ˆï¼Œå…¶ä¸­åŒ…å«äº†ä»¤äººæƒŠå–œçš„èŒƒå‹å’Œé”™è¯¯ç­‰è¯¸å¤šæ”¹è¿›ï¼Œåœ¨å Go1 æ—¶ä»£è¿‡å»ä¹‹åå°†æ˜¯æ–°å…´çš„ Go2 æ—¶ä»£ã€‚éœ€è¦è¯´æ˜çš„æ˜¯ï¼ŒGo2 çš„è¯ç”Ÿå¹¶ä¸è¡¨ç¤º Go1 è¢«æŠ›å¼ƒï¼å¦‚ä½•é¿å… Python3 çš„ç¬‘è¯æ­£æ˜¯ Go2 ç¬¬ä¸€è¦è€ƒè™‘çš„é—®é¢˜ï¼Œå› æ­¤æ‰ä¼šæœ‰ Go1.11 åˆ° Go2 é€æ­¥è¿‡æ®µçš„é˜¶æ®µã€‚è€Œ Go è¯­è¨€å®˜æ–¹ä¹Ÿå·²ç»é€šè¿‡åšæ–‡æ‰¿è¯º Go2 å°†ä¿æŒå¯¹ Go1 è½¯ä»¶èµ„äº§çš„æœ€å¤§å…¼å®¹ï¼Œå¼€å‘è€…é‡‡ç”¨å¢é‡æ›´æ–°çš„æ–¹å¼å°† Go1 é€æ¸è¿‡æ¸¡åˆ° Go2ï¼Œ&lt;/span&gt;è¿™ä¸ªè¿›ç¨‹ä¸»è¦ç”±ç¤¾åŒºæ¥è´Ÿè´£é©±åŠ¨ï¼Œåªè¦ä¸ä¼šå¸¦æ¥å‘åä¸å…¼å®¹çš„é—®é¢˜ï¼Œæ¯ä¸ª Go 2 çš„æè®®éƒ½æœ‰å¯èƒ½ä¼šåœ¨æ›´æ—©çš„ç‰ˆæœ¬å‘å¸ƒå‡ºæ¥ã€‚&lt;/p&gt;

&lt;p&gt;æ ¹æ®å®˜æ–¹æ–‡æ¡£æ•´ç†1.13ç‰ˆæœ¬å˜åŒ–ã€‚&lt;/p&gt;

&lt;h5 id=&#34;1-è¯­æ³•ç³–&#34;&gt;1.è¯­æ³•ç³–&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;&lt;span&gt;äºŒè¿›åˆ¶æ•´æ•°å­—é¢é‡ï¼šå‰ç¼€ 0b æˆ– 0B è¡¨ç¤ºäºŒè¿›åˆ¶æ•´æ•°å­—é¢é‡ï¼Œä¾‹å¦‚ 0b1011ï¼›&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;å…«è¿›åˆ¶æ•´æ•°å­—é¢é‡ï¼šå‰ç¼€ 0o æˆ– 0O è¡¨ç¤ºå…«è¿›åˆ¶æ•´æ•°å­—é¢é‡ï¼Œä¾‹å¦‚ 0o660ï¼ˆç”±å‰å¯¼ 0 åè·Ÿå…«è¿›åˆ¶æ•°å­—æŒ‡ç¤ºçš„å…«è¿›åˆ¶è¡¨ç¤ºæ³•ä»ç„¶æœ‰æ•ˆï¼‰ï¼›&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;åå…­è¿›åˆ¶æµ®ç‚¹æ•°å­—é¢é‡ï¼šç°åœ¨å¯ä»¥ä½¿ç”¨å‰ç¼€ 0x æˆ– 0X æ¥è¡¨ç¤ºåå…­è¿›åˆ¶æ ¼å¼æµ®ç‚¹æ•°ï¼Œä¾‹å¦‚ 0x1.0p-1021ã€‚åå…­è¿›åˆ¶æµ®ç‚¹æ•°å¿…é¡»å§‹ç»ˆå…·æœ‰æŒ‡æ•°ï¼Œå†™ä¸ºå­—æ¯ p æˆ– Pï¼Œåè·Ÿåè¿›åˆ¶çš„æŒ‡æ•°ã€‚æŒ‡æ•°å°†å°¾æ•°è¿ç®—ä¸º2çš„æŒ‡æ•°å¹‚ã€‚ä¾‹ &lt;code&gt;0x1p-2&lt;/code&gt;&lt;span&gt;ï¼Œä»£è¡¨åå…­è¿›åˆ¶çš„ 1 é™¤ä»¥ 2Â²ï¼Œä¹Ÿå°±æ˜¯ 0.25ï¼›&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;è™šéƒ¨ï¼ˆå¤æ•°å¸¸æ•°çš„è™šéƒ¨ï¼‰å­—é¢é‡ï¼šè™šéƒ¨&lt;span&gt;åç¼€ i ç°åœ¨å¯ä»¥ä¸ä»»ä½•ï¼ˆäºŒè¿›åˆ¶ï¼Œåè¿›åˆ¶ï¼Œåå…­è¿›åˆ¶ï¼‰æ•´æ•°æˆ–æµ®ç‚¹å­—é¢å€¼ä¸€èµ·ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š&lt;/span&gt;0xabci == 0xabc * 1i == 2748i ã€‚&lt;/li&gt;
&lt;li&gt;æ•°å­—åˆ†éš”ç¬¦ï¼šç°åœ¨å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”ï¼ˆåˆ†ç»„ï¼‰ä»»ä½•æ•°å­—å­—é¢é‡ï¼Œä¾‹å¦‚ 1_000_000ã€0b_1010_0110ã€3.1415_9265ï¼Œä¸‹åˆ’çº¿å¯èƒ½å‡ºç°åœ¨ä»»ä½•ä¸¤ä½æ•°å­—æˆ–å­—é¢é‡å‰ç¼€å’Œç¬¬ä¸€ä½æ•°å­—ä¹‹é—´ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&#34;2-å·¥å…·&#34;&gt;2.å·¥å…·&lt;/h5&gt;

&lt;h6 id=&#34;modules-æ”¹è¿›&#34;&gt;Modules æ”¹è¿›&lt;/h6&gt;

&lt;p&gt;GO111MODULE ç¯å¢ƒå˜é‡é»˜è®¤å€¼ä»ä¸º autoï¼Œä½†åªè¦å½“å‰å·¥ä½œç›®å½•åŒ…å«æˆ–ä½äºåŒ…å« go.mod æ–‡ä»¶çš„ç›®å½•ä¸‹ï¼Œauto å°±ä¼šæ¿€æ´» go command æ¨¡å—æ„ŸçŸ¥æ¨¡å¼â€”â€”å³ä½¿å½“å‰ç›®å½•åœ¨ GOPATH/src å†…ã€‚&lt;/p&gt;

&lt;p&gt;æ­¤å˜æ›´ç®€åŒ–äº† GOPATH/src ä¸­ç°æœ‰ä»£ç çš„è¿ç§»ï¼Œä»¥åŠå¯¹æ¨¡å—æ„ŸçŸ¥è½¯ä»¶åŒ…ä¸éæ¨¡å—æ„ŸçŸ¥å¯¼å…¥å™¨çš„æŒç»­ç»´æŠ¤ã€‚&lt;/p&gt;

&lt;p&gt;GOPROXY ç¯å¢ƒå˜é‡ç°åœ¨å¯ä»¥è®¾ç½®ä¸ºä»¥é€—å·åˆ†éš”çš„ä»£ç† URL åˆ—è¡¨æˆ–ç‰¹æ®Šçš„tokenå€¼ directï¼Œå…¶é»˜è®¤å€¼ç°ä¸º&lt;a href=&#34;https://proxy.golang.org,directã€‚è§£æåŒ…å«å…¶æ¨¡å—çš„åŒ…è·¯å¾„æ—¶ï¼Œgoå‘½ä»¤å°†è¿ç»­å°è¯•åˆ—è¡¨ä¸­æ¯ä¸ªä»£ç†ä¸Šçš„æ‰€æœ‰å€™é€‰æ¨¡å—è·¯å¾„ã€‚é™¤404ã€410ä¹‹å¤–ï¼Œæ— æ³•è®¿é—®çš„ä»£ç†æˆ–&#34;&gt;https://proxy.golang.org,directã€‚è§£æåŒ…å«å…¶æ¨¡å—çš„åŒ…è·¯å¾„æ—¶ï¼Œgoå‘½ä»¤å°†è¿ç»­å°è¯•åˆ—è¡¨ä¸­æ¯ä¸ªä»£ç†ä¸Šçš„æ‰€æœ‰å€™é€‰æ¨¡å—è·¯å¾„ã€‚é™¤404ã€410ä¹‹å¤–ï¼Œæ— æ³•è®¿é—®çš„ä»£ç†æˆ–&lt;/a&gt; HTTP çŠ¶æ€ä»£ç å°†ä½¿æœç´¢ç»ˆæ­¢ï¼Œè€Œæ— éœ€å’¨è¯¢å…¶ä½™ä»£ç†ã€‚&lt;/p&gt;

&lt;p&gt;GOPRIVATE(new) ç¯å¢ƒå˜é‡ç”¨äºå£°æ˜ä¸å…¬å¼€çš„æ¨¡å—è·¯å¾„ã€‚ç”¨ä½œè¾ƒä½ä¼˜å…ˆçº§çš„ GONOPROXY å’ŒGONOSUMDB å˜é‡çš„é»˜è®¤å€¼ï¼Œé€šè¿‡ä»£ç†æå–å“ªäº›æ¨¡å—å¹¶ä½¿ç”¨æ ¡éªŒå’Œæ•°æ®åº“è¿›è¡ŒéªŒè¯ï¼Œä»è€Œæä¾›æ›´ç²¾ç»†çš„æ“æ§ã€‚&lt;/p&gt;

&lt;p&gt;GOSUMDB(new) ç¯å¢ƒå˜é‡å¯æ ‡è¯†æ•°æ®åº“çš„åç§°ã€å¯é€‰çš„å…¬é’¥å’ŒæœåŠ¡å™¨ URLï¼Œä»¥æŸ¥è¯¢ä¸»æ¨¡å—çš„go.sumæ–‡ä»¶ä¸­å°šæœªåˆ—å‡ºçš„æ¨¡å—çš„æ ¡éªŒå’Œã€‚å¦‚æœ GOSUMDB ä¸åŒ…å«æ˜¾å¼ URLï¼Œåˆ™é€šè¿‡æ£€ç´¢æ”¯æŒæ ¡éªŒå’Œæ•°æ®åº“çš„ GOPROXY URLæ¥é€‰æ‹© URLï¼Œå¦‚æœæ‰€æœ‰ä»£ç†éƒ½ä¸æ”¯æŒï¼Œåˆ™è¿”å›åˆ°æŒ‡å®šæ•°æ®åº“çš„ç›´æ¥è¿æ¥ã€‚å¦‚æœGOSUMDBè®¾ç½®ä¸ºoffï¼Œåˆ™ä¸ä¼šæŸ¥è¯¢æ ¡éªŒå’Œæ•°æ®åº“ï¼ŒåªéªŒè¯ go.sum æ–‡ä»¶ä¸­çš„ç°æœ‰æ ¡éªŒå’Œã€‚&lt;/p&gt;

&lt;p&gt;è‹¥ç”¨æˆ·æ— æ³•è®¿é—®é»˜è®¤ä»£ç†å’Œæ ¡éªŒå’Œæ•°æ®åº“ï¼ˆä¾‹å¦‚ç”±äºé˜²ç«å¢™é…ç½®ï¼‰å¯å°† GOPROXYè®¾ç½®ä¸º dircetå’Œ/æˆ–å°† GOSUMDB è®¾ç½®ä¸º off ã€‚&lt;/p&gt;

&lt;p&gt;go env -w æŒ‡ä»¤å¯ç”¨äºè®¾ç½®è¿™äº›å˜é‡çš„é»˜è®¤å€¼ï¼Œå…¨å¹³å°é€šç”¨ï¼š&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;bash&#34;&gt;go env -w GOPROXY=direct
go env -w GOSUMDB=off&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>beego æ˜¯æ€æ ·çš„å­˜åœ¨ï¼Ÿ</title>
      <link>https://www.wingsxdu.com/p1386/</link>
      <pubDate>Sun, 08 Sep 2019 15:59:52 +0000</pubDate>
      
      <guid>https://www.wingsxdu.com/p1386/</guid>
      
        <description>

&lt;p&gt;&lt;span&gt;beego æ˜¯ä¸€ä¸ª RESTFul çš„ Go åº”ç”¨æ¡†æ¶ï¼Œå¯ä»¥ç”¨æ¥å¿«é€Ÿå¼€å‘ API ã€Webã€åç«¯æœåŠ¡ç­‰å„ç§åº”ç”¨ï¼Œä¸»ç¨‹æ˜¯å›½äººï¼Œå¼€å‘å†å²æ‚ ä¹…ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;beego å¯ä»¥è¯´æ˜¯å°ç™½å­¦ä¹  golang çš„â€œä¸äºŒé—¨é€‰â€ï¼Œæ— è®ºæ˜¯åŸç”Ÿä¸­æ–‡æ–‡æ¡£ï¼Œè¿˜æ˜¯å„å¤§è§†é¢‘ç½‘ç«™ã€æŠ€æœ¯ç¤¾åŒºä¸Šçš„æ•™ç¨‹ã€‚è¿™æ ·çš„ç¯å¢ƒä¸‹ï¼Œå¦‚æœæˆ‘æ˜¯ä¸€ä¸ªåˆå­¦è€…ï¼Œæˆ‘ä¹Ÿä¼šé€‰æ‹© beegoï¼Œæ¯•ç«Ÿæ²¡äººå–œæ¬¢æ‰¾ç½ªå—ã€‚ç„¶è€Œ beego è‡ªå‡ºä¸–ä»¥æ¥å°±é¥±å—æ‰¹æ–—ï¼Œå®ƒçœŸçš„æœ‰é‚£ä¹ˆå·®åŠ²å—ï¼Ÿ&lt;/p&gt;

&lt;h5 id=&#34;æ€§èƒ½&#34;&gt;æ€§èƒ½&lt;/h5&gt;

&lt;p&gt;&lt;span&gt;ç”±äº golang æä¾›äº†å®Œå–„çš„ net/http æ ‡å‡†åº“ï¼ŒåŸºäºè¯¥æ ‡å‡†åº“å®ç°ä¸€ä¸ª web æ¡†æ¶çš„éš¾åº¦ç›¸æ¯”å…¶ä»–è¯­è¨€ä½äº†ä¸å°‘ï¼Œè‡ªå·±å†™ä¸€äº› http å·¥å…·åŒ…ä¹Ÿä¸æ˜¯ä»€ä¹ˆéš¾äº‹ã€‚åœ¨åŸç”Ÿæ ‡å‡†åº“å’Œåç¨‹é«˜å¹¶å‘çš„åŠ æŒä¸‹ï¼Œå„ä¸ªæ¡†æ¶çš„çš„æ€§èƒ½éƒ½ååˆ†å‡ºè‰²ï¼Œé™¤éè¿‡åº¦å°è£…ï¼Œè¿™æ–¹é¢å¤§å®¶éƒ½æ‹‰ä¸å¼€å·®è· ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;h5 id=&#34;åº”ç”¨&#34;&gt;åº”ç”¨&lt;/h5&gt;

&lt;p&gt;&lt;span&gt;æ— è®ºæ˜¯ beego è¿˜æ˜¯ ginã€echo éƒ½æœ‰è‡ªå·±çš„åº”ç”¨åœºæ™¯ï¼Œä»¥ go è¯­è¨€çš„é£æ ¼æ¥è¯´ beego æ˜¾å¾—æœ‰äº›è‡ƒè‚¿ï¼Œä½†ä¹Ÿä¸å½±å“å®ƒä¾ç„¶æ˜¯ go MVC è¾ƒå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå…¶ç”¨æˆ·ä¸ä¹å›½å†…çŸ¥åä¼ä¸šã€‚&lt;/span&gt;&lt;/p&gt;

&lt;h5 id=&#34;å·¥ç¨‹ç»“æ„&#34;&gt;å·¥ç¨‹ç»“æ„&lt;/h5&gt;

&lt;p&gt;beego çš„å·¥ç¨‹ç»“æ„é£æ ¼åœ¨ go è¯­è¨€ä¸­æ˜¾å¾—æœ‰äº›æ ¼æ ¼ä¸å…¥ã€‚å¯¹ go è¯­è¨€æ¥è¯´ï¼Œå„&lt;span&gt;ç±»æ¡†æ¶åªæ˜¯ä¸€ä¸ªå·¥å…·ï¼Œéƒ½æ˜¯é€šè¿‡ import çš„æ–¹å¼ï¼ˆå°±åƒä½¿ç”¨æ ‡å‡†åŒ…ï¼‰ï¼Œè€Œ beego å°‘è§çš„è§„å®šäº†é¡¹ç›®ç»“æ„â€”â€”æ­£å¸¸æƒ…å†µä¸‹ï¼Œæ–°å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹å°±æ˜¯ä¸€ä¸ª go å·¥ç¨‹ã€‚å¯¹äºå¾ˆå¤š go å¼€å‘è€…ï¼Œå¾ˆä¸å–œæ¬¢è®©åˆ«äººæ¥è§„å®šä¸€ä¸ªé¡¹ç›®ç»“æ„ï¼Œè¿‡åº¦å°è£…å¯¼è‡´å¾ˆå¤šç‰¹æ€§è¢«é™åˆ¶æ­»äº†ï¼Œç¼ºå¤±äº†çµæ´»æ€§ï¼Œéš¾å…è®©äººåœ¨å¼€å‘ä¸­è§‰å¾—è¹©æ‰‹è¹©è„šã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œbeego å·ç§°ç”± 8 å¤§æ¨¡å—æ„æˆï¼Œå¼€å‘è€…å¯æ ¹æ®éœ€æ±‚è‡ªè¡Œå¼•å…¥ï¼ˆå¯è§ä½œè€…çš„é‡å¿ƒï¼‰ã€‚ç„¶è€Œå³ä½¿åœ¨è¯¦ç»†çš„åŸç”Ÿä¸­æ–‡æ–‡æ¡£åŠ æŒä¸‹ï¼Œä¸€äº›æ¨¡å—ä»ç„¶è®©å¼€å‘è€…æ„Ÿè§‰å¾ˆéš¾ç”¨ã€‚è€Œä¸”éšç€éœ€æ±‚çš„ä¸æ–­ç²¾è¿›ï¼Œä¸šåŠ¡å¼€å‘ä¹Ÿä¸ä¼šå±€é™äº CURD ç­‰åŸºç¡€æ“ä½œï¼Œåœ¨ç¤¾åŒºä¹Ÿæœ‰æ›´ä¸“ç²¾çš„æ›¿ä»£å“ï¼Œä¹Ÿæ²¡å¿…è¦è‡ªè®¨è‹¦åƒã€‚&lt;/p&gt;

&lt;h5 id=&#34;å­¦ä¼šé€‚åº”ä¸€é—¨è¯­è¨€&#34;&gt;å­¦ä¼šé€‚åº”ä¸€é—¨è¯­è¨€&lt;/h5&gt;

&lt;p&gt;golang æ˜¯ä¸€é—¨æ¯”è¾ƒå¥‡æ€ªçš„è¯­è¨€ï¼Œå¥‡æ€ªçš„è¯­æ³•ï¼Œå¥‡æ€ªçš„è¯­è¨€ç‰¹æ€§ã€å¥‡æ€ªçš„è¯­è¨€é£æ ¼ã€‚ä½†æœ‰åˆ©ä¹Ÿæœ‰å¼Šï¼Œå¯¹äº go å¼€å‘è€…ï¼Œå“ªæ€•ä½ ä¸‰ä¸ªæœˆä¸å†™ go ï¼Œå†ç”¨èµ·æ¥ä¹Ÿåƒæ˜¨å¤©å†™è¿‡ä¸€æ ·ï¼Œçœ‹åˆ«äººçš„ä»£ç ä¹Ÿåƒæ˜¯è‡ªå·±å†™çš„ã€‚é€‚åº”ä¹‹åå¯ä»¥å¿«é€Ÿä¸Šæ‰‹ã€‚å…¶å® beego çš„é‡å¿ƒå¯è§ä¸€æ–‘ï¼Œå¤§æ¦‚æ˜¯æƒ³åš go è¯­è¨€ä¸­çš„ java Springï¼Ÿbeego çš„é£æ ¼å¯ä»¥è¯´æ˜¯æœ€æ¥è¿‘äººä»¬ç†è§£çš„æ¡†æ¶æ¦‚å¿µï¼Œä½†è¿™å°±åœ¨ go ä¸­å¼•èµ·äº†è®¸å¤šäººçš„æ‰¹åˆ¤â€”â€”åç¦»çš„ go ç‹¬ç‰¹çš„è¯­è¨€é£æ ¼ã€‚å®ƒä¸æ˜¯ä¸å¤Ÿå¥½ï¼Œåªæ˜¯è®©å¼€å‘è€…ä»¬è§‰å¾—ã€‚ã€‚ã€‚ç”¨ä¸ä¸Šï¼Œæœ‰æ›´å˜ä¾¿åˆ©çš„å·¥å…·ï¼Œæ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œæ›´èˆ’é€‚çš„ç¼–ç¨‹æ–¹å¼ã€‚&lt;/p&gt;

&lt;p&gt;æ³¨ï¼šä½œè€…æœªä½¿ç”¨è¿‡ beego è¿›è¡Œæ­£ç»çš„é¡¹ç›®å¼€å‘ã€‚&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>UTF-8 ç¼–ç ä¸ mysqlä¸­çš„ utf8ã€utf8mb4</title>
      <link>https://www.wingsxdu.com/p1373/</link>
      <pubDate>Mon, 19 Aug 2019 15:10:43 +0000</pubDate>
      
      <guid>https://www.wingsxdu.com/p1373/</guid>
      
        <description>

&lt;h5 id=&#34;utf-8ç¼–ç &#34;&gt;UTF-8ç¼–ç &lt;/h5&gt;

&lt;p&gt;&lt;span&gt;UTF-8 æ˜¯ä¸€ç§&lt;strong&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;å˜é•¿å­—èŠ‚ç¼–ç &lt;/span&gt;&lt;/strong&gt;æ–¹å¼ã€‚å¯¹äºæŸä¸€ä¸ªå­—ç¬¦çš„UTF-8ç¼–ç ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªå­—èŠ‚åˆ™å…¶æœ€é«˜äºŒè¿›åˆ¶ä½ä¸º0ï¼›å¦‚æœæ˜¯å¤šå­—èŠ‚ï¼Œå…¶ç¬¬ä¸€ä¸ªå­—èŠ‚ä»æœ€é«˜ä½å¼€å§‹ï¼Œè¿ç»­çš„äºŒè¿›åˆ¶ä½å€¼ä¸º1çš„ä¸ªæ•°å†³å®šäº†å…¶ç¼–ç çš„ä½æ•°ï¼Œå…¶ä½™å„å­—èŠ‚å‡ä»¥10å¼€å¤´ã€‚UTF-8 æœ€å¤šå¯ç”¨åˆ°6ä¸ªå­—èŠ‚ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;å¦‚è¡¨ï¼š&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;1å­—èŠ‚ 0xxxxxxx&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;2å­—èŠ‚ 110xxxxx 10xxxxxx&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;3å­—èŠ‚ 1110xxxx 10xxxxxx 10xxxxxx&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;4å­—èŠ‚ 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;5å­—èŠ‚ 111110xx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;6å­—èŠ‚ 1111110x 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;å› æ­¤ UTF-8 ä¸­å¯ä»¥ç”¨æ¥è¡¨ç¤ºå­—ç¬¦ç¼–ç çš„å®é™…ä½æ•°æœ€å¤šæœ‰31ä½ï¼Œå³ä¸Šè¡¨ä¸­ x æ‰€è¡¨ç¤ºçš„ä½ã€‚é™¤å»æ§åˆ¶ä½ï¼ˆæ¯å­—èŠ‚å¼€å¤´çš„10ç­‰ï¼‰ï¼Œè¿™äº› x è¡¨ç¤ºçš„ä½ä¸ UNICODE ç¼–ç æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œä½é«˜ä½é¡ºåºä¹Ÿç›¸åŒã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;å°† UNICODE è½¬æ¢ä¸º UTF-8 ç¼–ç æ—¶åº”å…ˆå»é™¤é«˜ä½0ï¼Œç„¶åæ ¹æ®æ‰€å‰©ç¼–ç çš„ä½æ•°å†³å®šæ‰€éœ€æœ€å°çš„ UTF-8 ç¼–ç ä½æ•°ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;UNICODE å…¼å®¹ ASCIIï¼Œåªéœ€è¦ä¸€ä¸ªå­—èŠ‚çš„ UTF-8 ç¼–ç ï¼ˆ7ä¸ªäºŒè¿›åˆ¶ä½ï¼‰ä¾¿å¯ä»¥è¡¨ç¤ºã€‚&lt;/span&gt;&lt;/p&gt;

&lt;h6 id=&#34;ç¤ºä¾‹&#34;&gt;ç¤ºä¾‹&lt;/h6&gt;

&lt;p&gt;ä»¥â€œ9æœˆâ€ä¸ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•å®ç° UTF-8 ç¼–ç ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;UTF-8 ç¼–ç ï¼š00111001â€”39â€”â€œ9â€&lt;/li&gt;
&lt;li&gt;UTF-8 ç¼–ç ï¼š11100110 10011100 10001000â€”E6 9C 88â€”â€œæœˆâ€&lt;/li&gt;
&lt;/ul&gt;

&lt;h6 id=&#34;span-unicode-ä¸-utf-8-è½¬æ¢-span&#34;&gt;&lt;span&gt;Unicode ä¸ UTF-8 è½¬æ¢&lt;/span&gt;&lt;/h6&gt;

&lt;p&gt;&lt;span&gt;Unicode ç¬¦å·èŒƒå›´ | UTF-8 ç¼–ç æ–¹å¼&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â  Â  Â (åå…­è¿›åˆ¶)Â  Â  Â  |Â  Â  ï¼ˆäºŒè¿›åˆ¶ï¼‰&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;-+&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;0000 0000-0000 007F | 0xxxxxxx&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;0000 0080-0000 07FF | 110xxxxx 10xxxxxx&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;0000 0800-0000 FFFF | 1110xxxx 10xxxxxx 10xxxxxx&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;0001 0000-0010 FFFF | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;æ±‰å­—â€œä¸¥â€ä¸ºä¾‹ï¼Œå·²çŸ¥â€œä¸¥â€çš„ Unicodeæ˜¯ 4E25ï¼ˆ100 111000 100101ï¼‰ï¼Œæ ¹æ®ä¸Šè¡¨ï¼Œ4E25 å¤„åœ¨ç¬¬ä¸‰è¡Œçš„èŒƒå›´å†…ï¼ˆ07FF-FFFFï¼‰ï¼Œå› æ­¤â€œä¸¥â€çš„ UTF-8 ç¼–ç éœ€è¦ä¸‰ä¸ªå­—èŠ‚ï¼Œå³æ ¼å¼æ˜¯â€œ1110xxxx 10xxxxxx 10xxxxxxâ€ã€‚ç„¶åï¼Œä»â€œä¸¥â€çš„æœ€åä¸€ä¸ªäºŒè¿›åˆ¶ä½å¼€å§‹ï¼Œä¾æ¬¡ä»åå‘å‰å¡«å…¥æ ¼å¼ä¸­çš„xï¼Œå¤šå‡ºçš„ä½è¡¥0ã€‚å› æ­¤â€œä¸¥â€çš„UTF-8ç¼–ç æ˜¯â€œ11100100 10111000 10100101â€ï¼Œè½¬æ¢æˆåå…­è¿›åˆ¶å°±æ˜¯ E4B8A5ã€‚&lt;/p&gt;

&lt;h5 id=&#34;mysql-ä¸­çš„-utf8&#34;&gt;Mysql ä¸­çš„ utf8&lt;/h5&gt;

&lt;p&gt;&lt;span&gt;Mysql ä» 4.1 ç‰ˆæœ¬å¼€å§‹æ”¯æŒ utf8 ç¼–ç ï¼Œè€Œæ ‡å‡†çš„ UTF-8 ç¼–ç åœ¨å…¶ä¹‹åæ‰æ­£å¼å‘å¸ƒã€‚å‡†ç¡®åœ°è¯´ï¼Œutf8 çš„å…¨ååº”è¯¥å«â€”â€”utf8mb3ï¼ˆmax byte 3ï¼‰ï¼Œå…¶ç¼–ç çš„æœ€å¤§å­—ç¬¦é•¿åº¦ä¸º 3 å­—èŠ‚ï¼Œè€Œä¸‰ä¸ªå­—èŠ‚çš„ UTF-8 æœ€å¤§èƒ½ç¼–ç çš„ Unicode å­—ç¬¦æ˜¯ 0xFFFFï¼Œä¹Ÿå°±æ˜¯ Unicode ä¸­çš„åŸºæœ¬å¤šæ–‡å¹³é¢ï¼ˆBMPï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»»ä½•ä¸åœ¨åŸºæœ¬å¤šæ–‡å¹³é¢çš„ Unicodeå­—ç¬¦ï¼Œéƒ½æ— æ³•ä½¿ç”¨MySQLåŸæœ‰çš„ utf8 å­—ç¬¦é›†å­˜å‚¨ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;ä¸­æ–‡åŸºæœ¬æ±‰å­—+åŸºæœ¬æ±‰å­—è¡¥å……çš„ Unicode ç¼–ç èŒƒå›´ä¸ºï¼š4E00-9FCBï¼Œå…±è®¡æ”¶å½• 20940ä¸ªæ±‰å­—ï¼Œè€Œ&lt;/span&gt;æ‰©å±• B ç¼–ç èŒƒå›´ä¸º 20000-2A6D6ï¼Œæ‰©å±• C ä¸º2A700-2B734ï¼Œæ‰©å±• Dä¸º 2B740-2B81Dï¼Œå…±è®¡ 47082 ä¸ªæ±‰å­—ï¼Œä»¥åŠå…¶ä»–çš„å…¼å®¹æ‰©å±•ç­‰ã€‚è¿™äº›ç¼–ç èŒƒå›´å¤§äº FFFF çš„ä¸å¸¸ç”¨æ±‰å­—ã€&lt;span&gt;æˆ‘ä»¬å¸¸è§çš„ Emoji è¡¨æƒ…ï¼ˆEmoji æ˜¯ä¸€ç§ç‰¹æ®Šçš„ Unicode ç¼–ç ï¼‰ã€ä»»ä½•æ–°å¢çš„ Unicode å­—ç¬¦ç­‰ç­‰&lt;/span&gt;ï¼Œåœ¨ Mysql ä¸­å¹¶ä¸ä¼šå®Œæ•´åœ°å­˜å‚¨ä¸‹æ¥ï¼Œå¹¶å¯¼è‡´äº†æ•´ä¸ªå­—æ®µçš„ä¹±ç ã€‚&lt;/p&gt;

&lt;p&gt;&lt;span&gt;äºæ˜¯åœ¨ 5.5.3 ç‰ˆæœ¬ä¸­ï¼ŒMysql æ·»åŠ äº†å¯¹ utf8mb4 ç¼–ç çš„æ”¯æŒï¼Œæœ€å¤§å­—ç¬¦é•¿åº¦ä¸ºå››å­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯è¯´ utf8mb4 æ‰æ˜¯æˆ‘ä»¬ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„ UTF-8ã€‚ç„¶è€Œé—æ†¾çš„æ˜¯ï¼Œåœ¨ Mysql çš„ä¼—å¤šåˆ†æ”¯ç‰ˆæœ¬ä¸­ï¼Œåªæœ‰ 8.0.x åˆ†æ”¯ä¸­é»˜è®¤å¼€å¯çš„æ˜¯ utfmb4ï¼Œå…¶ä»–åˆ†æ”¯ä¾ç„¶æ˜¯ utf8 ç¼–ç â€”â€”å°¤å…¶åœ¨ linux ç³»ç»Ÿçš„æºä»“åº“ä¸­ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p class=&#34;title-article&#34; style=&#34;text-align: center;&#34;&gt;
  &lt;span style=&#34;color: #ff0000;&#34;&gt;&lt;strong&gt;æ°¸è¿œä¸è¦åœ¨MySQLä¸­ä½¿ç”¨ utf8ï¼Œæ”¹ç”¨ utf8mb4ã€‚&lt;/strong&gt;&lt;/span&gt;
&lt;/p&gt;

&lt;h5 id=&#34;mysql-ç®€å²&#34;&gt;MySQL ç®€å²&lt;/h5&gt;

&lt;p&gt;ä¸ºä»€ä¹ˆ MySQL å¼€å‘è€…ä¼šè®©â€œutf8â€å¤±æ•ˆ?æˆ‘ä»¬æˆ–è®¸å¯ä»¥ä»æäº¤æ—¥å¿—ä¸­å¯»æ‰¾ç­”æ¡ˆã€‚&lt;/p&gt;

&lt;p&gt;MySQL ä»4.1ç‰ˆæœ¬å¼€å§‹æ”¯æŒ UTF-8ï¼Œä¹Ÿå°±æ˜¯2003å¹´ï¼Œè€Œä»Šå¤©ä½¿ç”¨çš„ UTF-8 æ ‡å‡†(RFC 3629)æ˜¯éšåæ‰å‡ºç°çš„ã€‚&lt;/p&gt;

&lt;p&gt;æ—§ç‰ˆçš„ UTF-8 æ ‡å‡†(RFC 2279)æœ€å¤šæ”¯æŒæ¯ä¸ªå­—ç¬¦6ä¸ªå­—èŠ‚ã€‚2002å¹´3æœˆ28æ—¥ï¼ŒMySQLå¼€å‘è€…åœ¨ç¬¬ä¸€ä¸ªMySQL 4.1é¢„è§ˆç‰ˆä¸­ä½¿ç”¨äº†RFC 2279ã€‚&lt;/p&gt;

&lt;p&gt;åŒå¹´9æœˆï¼Œä»–ä»¬å¯¹ MySQL æºä»£ç è¿›è¡Œäº†ä¸€æ¬¡è°ƒæ•´ï¼šâ€œUTF8ç°åœ¨æœ€å¤šåªæ”¯æŒ3ä¸ªå­—èŠ‚çš„åºåˆ—â€ã€‚&lt;/p&gt;

&lt;p&gt;æ˜¯è°æäº¤äº†è¿™äº›ä»£ç ?ä»–ä¸ºä»€ä¹ˆè¦è¿™æ ·åš?è¿™ä¸ªé—®é¢˜ä¸å¾—è€ŒçŸ¥ã€‚åœ¨è¿ç§»åˆ° Git å(MySQLæœ€å¼€å§‹ä½¿ç”¨çš„æ˜¯BitKeeper)ï¼ŒMySQL ä»£ç åº“ä¸­çš„å¾ˆå¤šæäº¤è€…çš„åå­—éƒ½ä¸¢å¤±äº†ã€‚2003å¹´9æœˆçš„é‚®ä»¶åˆ—è¡¨ä¸­ä¹Ÿæ‰¾ä¸åˆ°å¯ä»¥è§£é‡Šè¿™ä¸€å˜æ›´çš„çº¿ç´¢ã€‚&lt;/p&gt;

&lt;p&gt;ä¸è¿‡æˆ‘å¯ä»¥è¯•ç€çŒœæµ‹ä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;2002å¹´ï¼ŒMySQL åšå‡ºäº†ä¸€ä¸ªå†³å®šï¼šå¦‚æœç”¨æˆ·å¯ä»¥ä¿è¯æ•°æ®è¡¨çš„æ¯ä¸€è¡Œéƒ½ä½¿ç”¨ç›¸åŒçš„å­—èŠ‚æ•°ï¼Œé‚£ä¹ˆ MySQL å°±å¯ä»¥åœ¨æ€§èƒ½æ–¹é¢æ¥ä¸€ä¸ªå¤§æå‡ã€‚ä¸ºæ­¤ï¼Œç”¨æˆ·éœ€è¦å°†æ–‡æœ¬åˆ—å®šä¹‰ä¸ºâ€œCHARâ€ï¼Œæ¯ä¸ªâ€œCHARâ€åˆ—æ€»æ˜¯æ‹¥æœ‰ç›¸åŒæ•°é‡çš„å­—ç¬¦ã€‚å¦‚æœæ’å…¥çš„å­—ç¬¦å°‘äºå®šä¹‰çš„æ•°é‡ï¼ŒMySQL å°±ä¼šåœ¨åé¢å¡«å……ç©ºæ ¼ï¼Œå¦‚æœæ’å…¥çš„å­—ç¬¦è¶…è¿‡äº†å®šä¹‰çš„æ•°é‡ï¼Œåé¢è¶…å‡ºéƒ¨åˆ†ä¼šè¢«æˆªæ–­ã€‚&lt;/p&gt;

&lt;p&gt;MySQL å¼€å‘è€…åœ¨æœ€å¼€å§‹å°è¯• UTF-8 æ—¶ä½¿ç”¨äº†æ¯ä¸ªå­—ç¬¦6ä¸ªå­—èŠ‚ï¼ŒCHAR(1)ä½¿ç”¨6ä¸ªå­—èŠ‚ï¼ŒCHAR(2)ä½¿ç”¨12ä¸ªå­—èŠ‚ï¼Œå¹¶ä»¥æ­¤ç±»æ¨ã€‚&lt;/p&gt;

&lt;p&gt;åº”è¯¥è¯´ï¼Œä»–ä»¬æœ€åˆçš„è¡Œä¸ºæ‰æ˜¯æ­£ç¡®çš„ï¼Œå¯æƒœè¿™ä¸€ç‰ˆæœ¬ä¸€ç›´æ²¡æœ‰å‘å¸ƒã€‚ä½†æ˜¯æ–‡æ¡£ä¸Šå´è¿™ä¹ˆå†™äº†ï¼Œè€Œä¸”å¹¿ä¸ºæµä¼ ï¼Œæ‰€æœ‰äº†è§£ UTF-8 çš„äººéƒ½è®¤åŒæ–‡æ¡£é‡Œå†™çš„ä¸œè¥¿ã€‚&lt;/p&gt;

&lt;p&gt;ä¸è¿‡å¾ˆæ˜¾ç„¶ï¼ŒMySQL å¼€å‘è€…æˆ–å‚å•†æ‹…å¿ƒä¼šæœ‰ç”¨æˆ·åšè¿™ä¸¤ä»¶äº‹ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨ CHAR å®šä¹‰åˆ—(åœ¨ç°åœ¨çœ‹æ¥ï¼ŒCHAR å·²ç»æ˜¯è€å¤è‘£äº†ï¼Œä½†åœ¨é‚£æ—¶ï¼Œåœ¨ MySQL ä¸­ä½¿ç”¨ CHAR ä¼šæ›´å¿«ï¼Œä¸è¿‡ä»2005å¹´ä»¥åå°±ä¸æ˜¯è¿™æ ·å­äº†)ã€‚&lt;/li&gt;
&lt;li&gt;å°† CHAR åˆ—çš„ç¼–ç è®¾ç½®ä¸ºâ€œutf8â€ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æˆ‘çš„çŒœæµ‹æ˜¯ MySQL å¼€å‘è€…æœ¬æ¥æƒ³å¸®åŠ©é‚£äº›å¸Œæœ›åœ¨ç©ºé—´å’Œé€Ÿåº¦ä¸ŠåŒèµ¢çš„ç”¨æˆ·ï¼Œä½†ä»–ä»¬æç ¸äº†â€œutf8â€ç¼–ç ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥ç»“æœå°±æ˜¯æ²¡æœ‰èµ¢å®¶ã€‚é‚£äº›å¸Œæœ›åœ¨ç©ºé—´å’Œé€Ÿåº¦ä¸ŠåŒèµ¢çš„ç”¨æˆ·ï¼Œå½“ä»–ä»¬åœ¨ä½¿ç”¨â€œutf8â€çš„ CHAR åˆ—æ—¶ï¼Œå®é™…ä¸Šä½¿ç”¨çš„ç©ºé—´æ¯”é¢„æœŸçš„æ›´å¤§ï¼Œé€Ÿåº¦ä¹Ÿæ¯”é¢„æœŸçš„æ…¢ã€‚è€Œæƒ³è¦æ­£ç¡®æ€§çš„ç”¨æˆ·ï¼Œå½“ä»–ä»¬ä½¿ç”¨â€œutf8â€ç¼–ç æ—¶ï¼Œå´æ— æ³•ä¿å­˜åƒâ€œâ€è¿™æ ·çš„å­—ç¬¦ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨è¿™ä¸ªä¸åˆæ³•çš„å­—ç¬¦é›†å‘å¸ƒäº†ä¹‹åï¼ŒMySQL å°±æ— æ³•ä¿®å¤å®ƒï¼Œå› ä¸ºè¿™æ ·éœ€è¦è¦æ±‚æ‰€æœ‰ç”¨æˆ·é‡æ–°æ„å»ºä»–ä»¬çš„æ•°æ®åº“ã€‚æœ€ç»ˆï¼ŒMySQL åœ¨2010å¹´é‡æ–°å‘å¸ƒäº†â€œutf8mb4â€æ¥æ”¯æŒçœŸæ­£çš„ UTF-8ã€‚&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>Golang strconvåŒ…ä½¿ç”¨</title>
      <link>https://www.wingsxdu.com/p1370/</link>
      <pubDate>Fri, 09 Aug 2019 09:45:19 +0000</pubDate>
      
      <guid>https://www.wingsxdu.com/p1370/</guid>
      
        <description>&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt; // atob.go
        ------------------------------------------------------------
        // ParseBool å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¸ƒå°”å€¼
        // å®ƒæ¥å—çœŸå€¼ï¼š1, t, T, TRUE, true, True
        // å®ƒæ¥å—å‡å€¼ï¼š0, f, F, FALSE, false, False.
        // å…¶å®ƒä»»ä½•å€¼éƒ½è¿”å›ä¸€ä¸ªé”™è¯¯
        func ParseBool(str string) (value bool, err error)
        func main() {
    fmt.Println(strconv.ParseBool(&#34;1&#34;))    // true 
    fmt.Println(strconv.ParseBool(&#34;t&#34;))    // true 
    fmt.Println(strconv.ParseBool(&#34;T&#34;))    // true 
    fmt.Println(strconv.ParseBool(&#34;true&#34;)) // true 
    fmt.Println(strconv.ParseBool(&#34;True&#34;)) // true 
    fmt.Println(strconv.ParseBool(&#34;TRUE&#34;)) // true 
    fmt.Println(strconv.ParseBool(&#34;TRue&#34;))  // false strconv.ParseBool: parsing &#34;TRue&#34;: invalid syntax
    fmt.Println(strconv.ParseBool(&#34;0&#34;))     // false 
    fmt.Println(strconv.ParseBool(&#34;f&#34;))     // false 
    fmt.Println(strconv.ParseBool(&#34;F&#34;))     // false 
    fmt.Println(strconv.ParseBool(&#34;false&#34;)) // false 
    fmt.Println(strconv.ParseBool(&#34;False&#34;)) // false 
    fmt.Println(strconv.ParseBool(&#34;FALSE&#34;)) // false 
    fmt.Println(strconv.ParseBool(&#34;FALse&#34;)) // false strconv.ParseBool: parsing &#34;FAlse&#34;: invalid syntax
    }

------------------------------------------------------------
// FormatBool å°†å¸ƒå°”å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸² &#34;true&#34; æˆ– &#34;false&#34;
func FormatBool(b bool) string
func main() {
    fmt.Println(strconv.FormatBool(0 &amp;lt; 1)) // true
    fmt.Println(strconv.FormatBool(0 &amp;gt; 1)) // false
    }

------------------------------------------------------------
// AppendBool å°†å¸ƒå°”å€¼ b è½¬æ¢ä¸ºå­—ç¬¦ä¸² &#34;true&#34; æˆ– &#34;false&#34;
// ç„¶åå°†ç»“æœè¿½åŠ åˆ° dst çš„å°¾éƒ¨ï¼Œè¿”å›è¿½åŠ åçš„ []bytefunc 
AppendBool(dst []byte, b bool) []byte
func main() {
    rst := make([]byte, 0)
    rst = strconv.AppendBool(rst, 0 &amp;lt; 1)
    fmt.Printf(&#34;%s\n&#34;, rst) // true
    rst = strconv.AppendBool(rst, 0 &amp;gt; 1)
    fmt.Printf(&#34;%s\n&#34;, rst) // truefalse
    }



============================================================
// atof.go
------------------------------------------------------------
// ParseFloat å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæµ®ç‚¹æ•°
// sï¼šè¦è½¬æ¢çš„å­—ç¬¦ä¸²
// bitSizeï¼šæŒ‡å®šæµ®ç‚¹ç±»å‹ï¼ˆ32:float32ã€64:float64ï¼‰
// å¦‚æœ s æ˜¯åˆæ³•çš„æ ¼å¼ï¼Œè€Œä¸”æ¥è¿‘ä¸€ä¸ªæµ®ç‚¹å€¼ï¼Œ
// åˆ™è¿”å›æµ®ç‚¹æ•°çš„å››èˆäº”å…¥å€¼ï¼ˆä¾æ® IEEE754 çš„å››èˆäº”å…¥æ ‡å‡†ï¼‰
// å¦‚æœ s ä¸æ˜¯åˆæ³•çš„æ ¼å¼ï¼Œåˆ™è¿”å›â€œè¯­æ³•é”™è¯¯â€
// å¦‚æœè½¬æ¢ç»“æœè¶…å‡º bitSize èŒƒå›´ï¼Œåˆ™è¿”å›â€œè¶…å‡ºèŒƒå›´â€
func ParseFloat(s string, bitSize int) (f float64, err error)
func main() {
    s := &#34;0.12345678901234567890&#34;
    f, err := strconv.ParseFloat(s, 32)
    fmt.Println(f, err)                // 0.12345679104328156 
    fmt.Println(float32(f), err)       // 0.12345679 
    f, err = strconv.ParseFloat(s, 64)
    fmt.Println(f, err)                // 0.12345678901234568 
    }



============================================================
// atoi.go
------------------------------------------------------------
// ErrRange è¡¨ç¤ºå€¼è¶…å‡ºèŒƒå›´var ErrRange = errors.New(&#34;value out of range&#34;)
// ErrSyntax è¡¨ç¤ºè¯­æ³•ä¸æ­£ç¡®var ErrSyntax = errors.New(&#34;invalid syntax&#34;)
// NumError è®°å½•è½¬æ¢å¤±è´¥
type NumError struct {
    Func string // å¤±è´¥çš„å‡½æ•°å(ParseBool, ParseInt, ParseUint, ParseFloat)
    Num  string // è¾“å…¥çš„å€¼
    Err  error  // å¤±è´¥çš„åŸå› (ErrRange, ErrSyntax)
    }
    // int æˆ– uint ç±»å‹çš„é•¿åº¦(32 æˆ– 64)
    const IntSize = intSize 
        const intSize = 32 &amp;lt;&amp;lt; uint(^uint(0)&amp;gt;&amp;gt;63)
// å®ç° Error æ¥å£ï¼Œè¾“å‡ºé”™è¯¯ä¿¡æ¯
func (e *NumError) Error() string
------------------------------------------------------------
// ParseInt å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º int ç±»å‹
// sï¼šè¦è½¬æ¢çš„å­—ç¬¦ä¸²
// baseï¼šè¿›ä½åˆ¶ï¼ˆ2 è¿›åˆ¶åˆ° 36 è¿›åˆ¶ï¼‰
// bitSizeï¼šæŒ‡å®šæ•´æ•°ç±»å‹ï¼ˆ0:intã€8:int8ã€16:int16ã€32:int32ã€64:int64ï¼‰
// è¿”å›è½¬æ¢åçš„ç»“æœå’Œè½¬æ¢æ—¶é‡åˆ°çš„é”™è¯¯
// å¦‚æœ base ä¸º 0ï¼Œåˆ™æ ¹æ®å­—ç¬¦ä¸²çš„å‰ç¼€åˆ¤æ–­è¿›ä½åˆ¶ï¼ˆ0x:16ï¼Œ0:8ï¼Œå…¶å®ƒ:10ï¼‰
func ParseInt(s string, base int, bitSize int) (i int64, err error)
func main() {
    fmt.Println(strconv.ParseInt(&#34;123&#34;, 10, 8)) // 123 
    fmt.Println(strconv.ParseInt(&#34;12345&#34;, 10, 8))   // 127 strconv.ParseInt: parsing &#34;12345&#34;: value out of range
    fmt.Println(strconv.ParseInt(&#34;2147483647&#34;, 10, 0))  // 2147483647 
    fmt.Println(strconv.ParseInt(&#34;0xFF&#34;, 16, 0))    // 0 strconv.ParseInt: parsing &#34;0xFF&#34;: invalid syntax
    fmt.Println(strconv.ParseInt(&#34;FF&#34;, 16, 0))  // 255 
    fmt.Println(strconv.ParseInt(&#34;0xFF&#34;, 0, 0)) // 255 
    }

------------------------------------------------------------
// ParseUint åŠŸèƒ½åŒ ParseInt ä¸€æ ·ï¼Œåªä¸è¿‡è¿”å› uint ç±»å‹æ•´æ•°
func ParseUint(s string, base int, bitSize int) (n uint64, err error)
func main() {
    fmt.Println(strconv.ParseUint(&#34;FF&#34;, 16, 8)) // 255 
    }

------------------------------------------------------------
// Atoi ç›¸å½“äº ParseInt(s, 10, 0)
// é€šå¸¸ä½¿ç”¨è¿™ä¸ªå‡½æ•°ï¼Œè€Œä¸ä½¿ç”¨ 
ParseIntfunc Atoi(s string) (i int, err error)
func main() {
    fmt.Println(strconv.Atoi(&#34;2147483647&#34;)) // 2147483647 
    fmt.Println(strconv.Atoi(&#34;2147483648&#34;)) // 2147483647 strconv.ParseInt: parsing &#34;2147483648&#34;: value out of range
    }



============================================================
// ftoa.go
------------------------------------------------------------
// FormatFloat å°†æµ®ç‚¹æ•° f è½¬æ¢ä¸ºå­—ç¬¦ä¸²å€¼
// fï¼šè¦è½¬æ¢çš„æµ®ç‚¹æ•°
// fmtï¼šæ ¼å¼æ ‡è®°ï¼ˆbã€eã€Eã€fã€gã€Gï¼‰
// precï¼šç²¾åº¦ï¼ˆæ•°å­—éƒ¨åˆ†çš„é•¿åº¦ï¼Œä¸åŒ…æ‹¬æŒ‡æ•°éƒ¨åˆ†ï¼‰
// bitSizeï¼šæŒ‡å®šæµ®ç‚¹ç±»å‹ï¼ˆ32:float32ã€64:float64ï¼‰
//// æ ¼å¼æ ‡è®°ï¼š
// &#39;b&#39; (-ddddpÂ±dddï¼ŒäºŒè¿›åˆ¶æŒ‡æ•°)
// &#39;e&#39; (-d.ddddeÂ±ddï¼Œåè¿›åˆ¶æŒ‡æ•°)
// &#39;E&#39; (-d.ddddEÂ±ddï¼Œåè¿›åˆ¶æŒ‡æ•°)
// &#39;f&#39; (-ddd.ddddï¼Œæ²¡æœ‰æŒ‡æ•°)
// &#39;g&#39; (&#39;e&#39;:å¤§æŒ‡æ•°ï¼Œ&#39;f&#39;:å…¶å®ƒæƒ…å†µ)
// &#39;G&#39; (&#39;E&#39;:å¤§æŒ‡æ•°ï¼Œ&#39;f&#39;:å…¶å®ƒæƒ…å†µ)
//// å¦‚æœæ ¼å¼æ ‡è®°ä¸º &#39;e&#39;ï¼Œ&#39;E&#39;å’Œ&#39;f&#39;ï¼Œåˆ™ prec è¡¨ç¤ºå°æ•°ç‚¹åçš„æ•°å­—ä½æ•°
// å¦‚æœæ ¼å¼æ ‡è®°ä¸º &#39;g&#39;ï¼Œ&#39;G&#39;ï¼Œåˆ™ prec è¡¨ç¤ºæ€»çš„æ•°å­—ä½æ•°ï¼ˆæ•´æ•°éƒ¨åˆ†+å°æ•°éƒ¨åˆ†ï¼‰
func FormatFloat(f float64, fmt byte, prec, bitSize int) string
func main() {
    f := 100.12345678901234567890123456789
    fmt.Println(strconv.FormatFloat(f, &#39;b&#39;, 5, 32)) // 13123382p-17
    fmt.Println(strconv.FormatFloat(f, &#39;e&#39;, 5, 32)) // 1.00123e+02
    fmt.Println(strconv.FormatFloat(f, &#39;E&#39;, 5, 32)) // 1.00123E+02
    fmt.Println(strconv.FormatFloat(f, &#39;f&#39;, 5, 32)) // 100.12346
    fmt.Println(strconv.FormatFloat(f, &#39;g&#39;, 5, 32)) // 100.12
    fmt.Println(strconv.FormatFloat(f, &#39;G&#39;, 5, 32)) // 100.12
    fmt.Println(strconv.FormatFloat(f, &#39;b&#39;, 30, 32))    // 13123382p-17
    fmt.Println(strconv.FormatFloat(f, &#39;e&#39;, 30, 32))    // 1.001234588623046875000000000000e+02
    fmt.Println(strconv.FormatFloat(f, &#39;E&#39;, 30, 32))    // 1.001234588623046875000000000000E+02
    fmt.Println(strconv.FormatFloat(f, &#39;f&#39;, 30, 32))    // 100.123458862304687500000000000000
    fmt.Println(strconv.FormatFloat(f, &#39;g&#39;, 30, 32))    // 100.1234588623046875
    fmt.Println(strconv.FormatFloat(f, &#39;G&#39;, 30, 32))    // 100.1234588623046875
    }

------------------------------------------------------------
// AppendFloat å°†æµ®ç‚¹æ•° f è½¬æ¢ä¸ºå­—ç¬¦ä¸²å€¼ï¼Œå¹¶å°†è½¬æ¢ç»“æœè¿½åŠ åˆ° dst çš„å°¾éƒ¨
// è¿”å›è¿½åŠ åçš„ []bytefunc 
AppendFloat(dst []byte, f float64, fmt byte, prec int, bitSize int) []byte
func main() {
    f := 100.12345678901234567890123456789
    b := make([]byte, 0)
    b = strconv.AppendFloat(b, f, &#39;f&#39;, 5, 32)
    b = append(b, &#34;   &#34;...)
    b = strconv.AppendFloat(b, f, &#39;e&#39;, 5, 32)
    fmt.Printf(&#34;%s&#34;, b) // 100.12346   1.00123e+0
    }


============================================================
// itoa.go
------------------------------------------------------------
// FormatUint å°† int å‹æ•´æ•° i è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼
// baseï¼šè¿›ä½åˆ¶ï¼ˆ2 è¿›åˆ¶åˆ° 36 è¿›åˆ¶ï¼‰
// å¤§äº 10 è¿›åˆ¶çš„æ•°ï¼Œè¿”å›å€¼ä½¿ç”¨å°å†™å­—æ¯ &#39;a&#39; åˆ° &#39;z&#39;func 
FormatInt(i int64, base int) string
func main() {
    i := int64(-2048)
    fmt.Println(strconv.FormatInt(i, 2))  // -100000000000
    fmt.Println(strconv.FormatInt(i, 8))  // -4000
    fmt.Println(strconv.FormatInt(i, 10)) // -2048
    fmt.Println(strconv.FormatInt(i, 16)) // -800
    fmt.Println(strconv.FormatInt(i, 36)) // -1kw
    }

------------------------------------------------------------
// FormatUint å°† uint å‹æ•´æ•° i è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼
// baseï¼šè¿›ä½åˆ¶ï¼ˆ2 è¿›åˆ¶åˆ° 36 è¿›åˆ¶ï¼‰
// å¤§äº 10 è¿›åˆ¶çš„æ•°ï¼Œè¿”å›å€¼ä½¿ç”¨å°å†™å­—æ¯ &#39;a&#39; åˆ° &#39;z&#39;func 
FormatUint(i uint64, base int) string
func main() {
    i := uint64(2048)
    fmt.Println(strconv.FormatUint(i, 2))  // 100000000000
    fmt.Println(strconv.FormatUint(i, 8))  // 4000
    fmt.Println(strconv.FormatUint(i, 10)) // 2048
    fmt.Println(strconv.FormatUint(i, 16)) // 800
    fmt.Println(strconv.FormatUint(i, 36)) // 1kw
    }

------------------------------------------------------------
// Itoa ç›¸å½“äº FormatInt(i, 10)func Itoa(i int) string
func main() {
    fmt.Println(strconv.Itoa(-2048)) // -2048
    fmt.Println(strconv.Itoa(2048))  // 2048
    }

------------------------------------------------------------
// AppendInt å°† int å‹æ•´æ•° i è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼ï¼Œå¹¶è¿½åŠ åˆ° dst çš„å°¾éƒ¨
// iï¼šè¦è½¬æ¢çš„å­—ç¬¦ä¸²
// baseï¼šè¿›ä½åˆ¶
// è¿”å›è¿½åŠ åçš„ []bytefunc 
AppendInt(dst []byte, i int64, base int) []byte
func main() {
    b := make([]byte, 0)
    b = strconv.AppendInt(b, -2048, 16)
    fmt.Printf(&#34;%s&#34;, b) // -800
    }

------------------------------------------------------------
// AppendUint å°† uint å‹æ•´æ•° i è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼ï¼Œå¹¶è¿½åŠ åˆ° dst çš„å°¾éƒ¨
// iï¼šè¦è½¬æ¢çš„å­—ç¬¦ä¸²
// baseï¼šè¿›ä½åˆ¶
// è¿”å›è¿½åŠ åçš„ []bytefunc 
AppendUint(dst []byte, i uint64, base int) []byte
func main() {
    b := make([]byte, 0)
    b = strconv.AppendUint(b, 2048, 16)
    fmt.Printf(&#34;%s&#34;, b) // 800
    }



============================================================
// quote.go
------------------------------------------------------------
// Quote å°†å­—ç¬¦ä¸² s è½¬æ¢ä¸ºâ€œåŒå¼•å·â€å¼•èµ·æ¥çš„å­—ç¬¦ä¸²
// å…¶ä¸­çš„ç‰¹æ®Šå­—ç¬¦å°†è¢«è½¬æ¢ä¸ºâ€œè½¬ä¹‰å­—ç¬¦â€
// â€œä¸å¯æ˜¾ç¤ºçš„å­—ç¬¦â€å°†è¢«è½¬æ¢ä¸ºâ€œè½¬ä¹‰å­—ç¬¦â€
func Quote(s string) string
func main() {
    fmt.Println(strconv.Quote(`C:\Windows`))    // &#34;C:\\Windows&#34;
    }

------------------------------------------------------------
// AppendQuote å°†å­—ç¬¦ä¸² s è½¬æ¢ä¸ºâ€œåŒå¼•å·â€å¼•èµ·æ¥çš„å­—ç¬¦ä¸²ï¼Œ
// å¹¶å°†ç»“æœè¿½åŠ åˆ° dst çš„å°¾éƒ¨ï¼Œè¿”å›è¿½åŠ åçš„ []byte
// å…¶ä¸­çš„ç‰¹æ®Šå­—ç¬¦å°†è¢«è½¬æ¢ä¸ºâ€œè½¬ä¹‰å­—ç¬¦â€func 
AppendQuote(dst []byte, s string) []byte
func main() {
    s := `C:\Windows`
    b := make([]byte, 0)
    b = strconv.AppendQuote(b, s)
    fmt.Printf(&#34;%s&#34;, b) // &#34;C:\\Windows&#34;
    }

------------------------------------------------------------
// QuoteToASCII å°†å­—ç¬¦ä¸² s è½¬æ¢ä¸ºâ€œåŒå¼•å·â€å¼•èµ·æ¥çš„ ASCII å­—ç¬¦ä¸²
// â€œé ASCII å­—ç¬¦â€å’Œâ€œç‰¹æ®Šå­—ç¬¦â€å°†è¢«è½¬æ¢ä¸ºâ€œè½¬ä¹‰å­—ç¬¦â€
func QuoteToASCII(s string) string
func main() {
    fmt.Println(strconv.QuoteToASCII(&#34;Hello ä¸–ç•Œï¼&#34;))  // &#34;Hello \u4e16\u754c\uff01&#34;
    }

------------------------------------------------------------
// AppendQuoteToASCII å°†å­—ç¬¦ä¸² s è½¬æ¢ä¸ºâ€œåŒå¼•å·â€å¼•èµ·æ¥çš„ ASCII å­—ç¬¦ä¸²ï¼Œ
// å¹¶å°†ç»“æœè¿½åŠ åˆ° dst çš„å°¾éƒ¨ï¼Œè¿”å›è¿½åŠ åçš„ []byte
// â€œé ASCII å­—ç¬¦â€å’Œâ€œç‰¹æ®Šå­—ç¬¦â€å°†è¢«è½¬æ¢ä¸ºâ€œè½¬ä¹‰å­—ç¬¦â€
func AppendQuoteToASCII(dst []byte, s string) []byte
func main() {
    s := &#34;Hello ä¸–ç•Œï¼&#34;
    b := make([]byte, 0)
    b = strconv.AppendQuoteToASCII(b, s)
    fmt.Printf(&#34;%s&#34;, b) // &#34;Hello \u4e16\u754c\uff01&#34;
    }

------------------------------------------------------------
// QuoteRune å°† Unicode å­—ç¬¦è½¬æ¢ä¸ºâ€œå•å¼•å·â€å¼•èµ·æ¥çš„å­—ç¬¦ä¸²
// â€œç‰¹æ®Šå­—ç¬¦â€å°†è¢«è½¬æ¢ä¸ºâ€œè½¬ä¹‰å­—ç¬¦â€
func QuoteRune(r rune) string
func main() {
    fmt.Println(strconv.QuoteRune(&#39;å¥½&#39;)) // &#39;å¥½&#39;
    }

------------------------------------------------------------
// AppendQuoteRune å°† Unicode å­—ç¬¦è½¬æ¢ä¸ºâ€œå•å¼•å·â€å¼•èµ·æ¥çš„å­—ç¬¦ä¸²ï¼Œ
// å¹¶å°†ç»“æœè¿½åŠ åˆ° dst çš„å°¾éƒ¨ï¼Œè¿”å›è¿½åŠ åçš„ []byte
// â€œç‰¹æ®Šå­—ç¬¦â€å°†è¢«è½¬æ¢ä¸ºâ€œè½¬ä¹‰å­—ç¬¦â€
func AppendQuoteRune(dst []byte, r rune) []byte
func main() {
    b := make([]byte, 0)
    b = strconv.AppendQuoteRune(b, &#39;å¥½&#39;)
    fmt.Printf(&#34;%s&#34;, b) // &#39;å¥½&#39;
    }

------------------------------------------------------------
// QuoteRuneToASCII å°† Unicode å­—ç¬¦è½¬æ¢ä¸ºâ€œå•å¼•å·â€å¼•èµ·æ¥çš„ ASCII å­—ç¬¦ä¸²
// â€œé ASCII å­—ç¬¦â€å’Œâ€œç‰¹æ®Šå­—ç¬¦â€å°†è¢«è½¬æ¢ä¸ºâ€œè½¬ä¹‰å­—ç¬¦â€
func QuoteRuneToASCII(r rune) string
func main() {
    fmt.Println(strconv.QuoteRuneToASCII(&#39;å¥½&#39;))  // &#39;\u597d&#39;
    }

------------------------------------------------------------
// AppendQuoteRune å°† Unicode å­—ç¬¦è½¬æ¢ä¸ºâ€œå•å¼•å·â€å¼•èµ·æ¥çš„ ASCII å­—ç¬¦ä¸²ï¼Œ
// å¹¶å°†ç»“æœè¿½åŠ åˆ° dst çš„å°¾éƒ¨ï¼Œè¿”å›è¿½åŠ åçš„ []byte
// â€œé ASCII å­—ç¬¦â€å’Œâ€œç‰¹æ®Šå­—ç¬¦â€å°†è¢«è½¬æ¢ä¸ºâ€œè½¬ä¹‰å­—ç¬¦â€
func AppendQuoteRuneToASCII(dst []byte, r rune) []byte
func main() {
    b := make([]byte, 0)
    b = strconv.AppendQuoteRuneToASCII(b, &#39;å¥½&#39;)
    fmt.Printf(&#34;%s&#34;, b) // &#39;\u597d&#39;
    }

------------------------------------------------------------
// CanBackquote åˆ¤æ–­å­—ç¬¦ä¸² s æ˜¯å¦å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªå•è¡Œçš„â€œåå¼•å·â€å­—ç¬¦ä¸²
// å­—ç¬¦ä¸²ä¸­ä¸èƒ½å«æœ‰æ§åˆ¶å­—ç¬¦ï¼ˆé™¤äº† \tï¼‰å’Œâ€œåå¼•å·â€å­—ç¬¦ï¼Œå¦åˆ™è¿”å› false
func CanBackquote(s string) bool
func main() {
    b := strconv.CanBackquote(&#34;C:\\Windows\n&#34;)
    fmt.Println(b) // false
    b = strconv.CanBackquote(&#34;C:\\Windows\r&#34;)
    fmt.Println(b) // false
    b = strconv.CanBackquote(&#34;C:\\Windows\f&#34;)
    fmt.Println(b) // false
    b = strconv.CanBackquote(&#34;C:\\Windows\t&#34;)
    fmt.Println(b) // true
    b = strconv.CanBackquote(&#34;C:\\`Windows`&#34;)
    fmt.Println(b) // false
    }

------------------------------------------------------------
// UnquoteChar å°† s ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦â€œå–æ¶ˆè½¬ä¹‰â€å¹¶è§£ç 
//// sï¼šè½¬ä¹‰åçš„å­—ç¬¦ä¸²
// quoteï¼šå­—ç¬¦ä¸²ä½¿ç”¨çš„â€œå¼•å·ç¬¦â€ï¼ˆç”¨äºå¯¹å¼•å·ç¬¦â€œå–æ¶ˆè½¬ä¹‰â€ï¼‰
//// valueï¼š    è§£ç åçš„å­—ç¬¦
// multibyteï¼švalue æ˜¯å¦ä¸ºå¤šå­—èŠ‚å­—ç¬¦
// tailï¼š     å­—ç¬¦ä¸² s é™¤å» value åçš„å‰©ä½™éƒ¨åˆ†
// errorï¼š    è¿”å› s ä¸­æ˜¯å¦å­˜åœ¨è¯­æ³•é”™è¯¯
//// å‚æ•° quote ä¸ºâ€œå¼•å·ç¬¦â€
// å¦‚æœè®¾ç½®ä¸ºå•å¼•å·ï¼Œåˆ™ s ä¸­å…è®¸å‡ºç° \&#39; å­—ç¬¦ï¼Œä¸å…è®¸å‡ºç°å•ç‹¬çš„ &#39; å­—ç¬¦
// å¦‚æœè®¾ç½®ä¸ºåŒå¼•å·ï¼Œåˆ™ s ä¸­å…è®¸å‡ºç° \&#34; å­—ç¬¦ï¼Œä¸å…è®¸å‡ºç°å•ç‹¬çš„ &#34; å­—ç¬¦
// å¦‚æœè®¾ç½®ä¸º 0ï¼Œåˆ™ä¸å…è®¸å‡ºç° \&#39; æˆ– \&#34; å­—ç¬¦ï¼Œå¯ä»¥å‡ºç°å•ç‹¬çš„ &#39; æˆ– &#34; å­—ç¬¦
func UnquoteChar(s string, quote byte) (value rune, multibyte bool, tail string, err error)
func main() {
    s := `\&#34;å¤§\\å®¶\\å¥½ï¼\&#34;`
    c, mb, sr, _ := strconv.UnquoteChar(s, &#39;&#34;&#39;)
    fmt.Printf(&#34;%-3c  %v\n&#34;, c, mb) for ; len(sr) &amp;gt; 0; c, mb, sr, _ = strconv.UnquoteChar(sr, &#39;&#34;&#39;) {
        fmt.Printf(&#34;%-3c  %v\n&#34;, c, mb)
    }   // &#34;    false
    // å¤§  true
    // \    false
    // å®¶  true
    // \    false
    // å¥½  true
    // ï¼  true
    }

------------------------------------------------------------
// Unquote å°†â€œå¸¦å¼•å·çš„å­—ç¬¦ä¸²â€ s è½¬æ¢ä¸ºå¸¸è§„çš„å­—ç¬¦ä¸²ï¼ˆä¸å¸¦å¼•å·å’Œè½¬ä¹‰å­—ç¬¦ï¼‰
// s å¯ä»¥æ˜¯â€œå•å¼•å·â€ã€â€œåŒå¼•å·â€æˆ–â€œåå¼•å·â€å¼•èµ·æ¥çš„å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬å¼•å·æœ¬èº«ï¼‰
// å¦‚æœ s æ˜¯å•å¼•å·å¼•èµ·æ¥çš„å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›è¯¥è¯¥å­—ç¬¦ä¸²ä»£è¡¨çš„å­—ç¬¦
func Unquote(s string) (t string, err error)
func main() {
    sr, err := strconv.Unquote(`&#34;\&#34;å¤§\tå®¶\tå¥½ï¼\&#34;&#34;`)
    fmt.Println(sr, err)
    sr, err = strconv.Unquote(`&#39;å¤§å®¶å¥½ï¼&#39;`)
    fmt.Println(sr, err)
    sr, err = strconv.Unquote(`&#39;å¥½&#39;`)
    fmt.Println(sr, err)
    sr, err = strconv.Unquote(&#34;`å¤§\\tå®¶\\tå¥½ï¼`&#34;)
    fmt.Println(sr, err)
}

------------------------------------------------------------
// IsPrint åˆ¤æ–­ Unicode å­—ç¬¦ r æ˜¯å¦æ˜¯ä¸€ä¸ªå¯æ˜¾ç¤ºçš„å­—ç¬¦
// å¯å¦æ˜¾ç¤ºå¹¶ä¸æ˜¯ä½ æƒ³è±¡çš„é‚£æ ·ï¼Œæ¯”å¦‚ç©ºæ ¼å¯ä»¥æ˜¾ç¤ºï¼Œè€Œ\tåˆ™ä¸èƒ½æ˜¾ç¤º
// å…·ä½“å¯ä»¥å‚è€ƒ Go è¯­è¨€çš„æºç 
func IsPrint(r rune) bool
func main() {
    fmt.Println(strconv.IsPrint(&#39;a&#39;))   // true
    fmt.Println(strconv.IsPrint(&#39;å¥½&#39;))  // true
    fmt.Println(strconv.IsPrint(&#39; &#39;))   // true
    fmt.Println(strconv.IsPrint(&#39;\t&#39;))  // false
    fmt.Println(strconv.IsPrint(&#39;\n&#39;))  // false
    fmt.Println(strconv.IsPrint(0))     // false
    }
&lt;/code&gt;&lt;/pre&gt;
</description>
      
    </item>
    
    <item>
      <title>Go å˜é‡è¦†ç›–é—®é¢˜</title>
      <link>https://www.wingsxdu.com/p1368/</link>
      <pubDate>Fri, 09 Aug 2019 03:12:54 +0000</pubDate>
      
      <guid>https://www.wingsxdu.com/p1368/</guid>
      
        <description>&lt;p&gt;å¦‚ä¸‹ä»£ç &lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;package main

func main() {
    x := 1
    println(x)      // 1
    {
        println(x)  // 1
        x := 2
        println(x)  // 2    // æ–°çš„ x å˜é‡çš„ä½œç”¨åŸŸåªåœ¨ä»£ç å—å†…éƒ¨
    }
    println(x)      // 1
}&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;&lt;span&gt;ä»£ç å¼•ç”¨å˜é‡æ—¶æ€»ä¼šæœ€ä¼˜å…ˆæŸ¥æ‰¾å½“å‰ä»£ç å—ä¸­ï¼ˆä¸åŒ…å«ä»»ä½•å­ä»£ç å—ï¼‰çš„é‚£ä¸ªå˜é‡ï¼›&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;å¦‚æœå½“å‰ä»£ç å—ä¸­æ²¡æœ‰å£°æ˜ä»¥æ­¤ä¸ºåçš„å˜é‡ï¼Œé‚£ä¹ˆç¨‹åºä¼šæ²¿ç€ä»£ç å—çš„åµŒå¥—å…³ç³»ï¼Œä¸€å±‚ä¸€å±‚çš„æŸ¥æ‰¾ï¼›&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
      
    </item>
    
    <item>
      <title>å› ä¸ºæˆ‘ä»¬æœ‰æ¢¦æƒ³</title>
      <link>https://www.wingsxdu.com/p1366/</link>
      <pubDate>Fri, 09 Aug 2019 02:08:22 +0000</pubDate>
      
      <guid>https://www.wingsxdu.com/p1366/</guid>
      
        <description>&lt;p&gt;&lt;strong&gt;&lt;span&gt;è¶Šè®¤çœŸçš„äººï¼Œè¶Šå®¹æ˜“é™·å…¥è¿·èŒ«ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;ç”Ÿå‘½çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;åŠªåŠ›çš„æ„ä¹‰åœ¨å“ªé‡Œï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;ç­”æ¡ˆæœ‰åƒç™¾ç§ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;2018å¹´ï¼Œ1523ä¸‡ä¸­å›½æ–°ç”Ÿå„¿å¼€å¯äº†ä»–ä»¬çš„ç”Ÿå‘½æ—…ç¨‹ï¼Œ993ä¸‡äººè¾åˆ«äººé—´ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;975ä¸‡é«˜ä¸‰å­¦ç”Ÿææªä¸Šé©¬å¥”èµ´é«˜è€ƒã€‚&lt;/span&gt;&lt;span&gt;34ä¸‡äººè¶…è¿‡600åˆ†ï¼Œä¸è´Ÿä¸€åœºä¿®è¡Œã€‚&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;3000ä¸‡ç¯å«å·¥äººï¼Œåœ¨æ¯å¤©å‡Œæ™¨4:15çš„æ—¶å€™ï¼Œå‡†æ—¶å‡ºç°åœ¨å…¨å›½700ä¸ªåŸå¸‚è¡—å¤´ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;360ä¸‡ç¾å›¢å•†å®¶ã€270ä¸‡å¤–å–å°å“¥ä¸€èµ·é€å‡º63.9äº¿ä»½å¤–å–ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;é¥¿äº†ä¹ˆéª‘æ‰‹åˆ˜åŠ¡æ¡‚è·‘äº†63221å…¬é‡Œï¼Œç›¸å½“äºç»•è¡Œèµ¤é“1.5åœˆã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;300ä¸‡å¿«é€’å‘˜éª‘ç€ç”µé©´ï¼Œé€å‡º500äº¿ä»¶å¿«é€’ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;å¹³å‡æ¯ä¸ªå¿«é€’å‘˜æ¯æœˆé€è´§è·ç¦»æ¥è¿‘2000kmï¼Œç›¸å½“äºä»åŒ—äº¬éª‘è¡Œåˆ°å¹¿å·ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;1386ä¸‡å†œæ‘è´«å›°äººå£ï¼ŒåŠ³åŠ¨è„±è´«ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;&lt;strong&gt;å½¼æ—¶ï¼Œä¸­å›½Aè‚¡ä¸Šå¸‚å…¬å¸ï¼Œè¿‘äº”åƒé«˜ç®¡å¹´è–ªè¿‡ç™¾ä¸‡ï¼Œä¹Ÿæ˜¯è¿™ä¸€å¹´ï¼ŒAè‚¡æ¯å¤©è‡³å°‘æœ‰ä¸€ä½è‘£äº‹é•¿å¤±ä¸šã€‚&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;820ä¸‡å¤§å­¦ç”Ÿå‘Šåˆ«æ¯æ ¡ã€‚&lt;/span&gt;&lt;span&gt;80%çš„æ¯•ä¸šç”ŸæŒ£åˆ°ç¬¬ä¸€ç¬”è–ªæ°´ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;å…¨ä¸–ç•Œï¼Œä»æœªæœ‰è¿™ä¹ˆåºå¤§çš„ä¸€ç¾¤äººï¼Œå¯¹æœªæ¥å……æ»¡ç€ä¹è§‚ç¾å¥½çš„æƒ³è±¡ï¼Œå¦‚æ­¤å‹¤å¥‹ï¼Œå¦‚æ­¤åƒè‹¦ï¼Œå¦‚æ­¤æ‹¼æã€‚&lt;/span&gt;&lt;span&gt;å› ä¸ºæ¯ä¸€ä¸ªä½ ä»¬ï¼Œä¸­å›½è¿˜åœ¨å‰è¿›ã€‚&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;åŠªåŠ›çš„æ„ä¹‰ï¼Œç”Ÿå‘½çš„æ„ä¹‰ï¼Œä»æ¥æ²¡æœ‰æ ‡å‡†ç­”æ¡ˆã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;span&gt;è°ä¸æ›¾å—è¿‡ç”Ÿæ´»çš„ä¼˜å¾…ï¼Œè°åˆä¸æ›¾ç»å—è¿‡ç”Ÿæ´»çš„åˆéš¾ï¼Œè°åˆä¸æ›¾å¿µè¿‡é‚£æœ¬éš¾å¿µçš„ç»ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;14äº¿ç§æ‚²å–œäº¤åŠ ï¼Œ14äº¿ç§è´Ÿé‡å‰è¡Œã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;å¥½å¥½&lt;/span&gt;&lt;span&gt;æ´»ç€ï¼Œå°±æ˜¯èƒœåˆ©ã€‚&lt;/span&gt;&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>Go ECHO JWT å˜é‡ç±»å‹</title>
      <link>https://www.wingsxdu.com/p1364/</link>
      <pubDate>Tue, 06 Aug 2019 10:09:33 +0000</pubDate>
      
      <guid>https://www.wingsxdu.com/p1364/</guid>
      
        <description>&lt;p&gt;æœ€è¿‘åœ¨å†™è‡ªå·±çš„å¼€æºæ¡ˆä¾‹æ—¶ï¼Œéœ€è¦åœ¨ token é‡Œé¢å­˜å…¥ç”¨æˆ·çš„ uidï¼Œå˜é‡ç±»å‹ä¸º uint64,ç„¶è€Œè§£ætoken ä¸­çš„å€¼æ—¶å´æŠ¥é”™å˜é‡ä¸ç¬¦ï¼Œç±»å‹ä¸º floatã€‚ç¤ºä¾‹ï¼š&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;claims[&#34;uid&#34;] = uid //ç¼–ç 
uid := claims[&#34;uid&#34;].(uint64) //è§£ç &lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½†å¦‚æœç¼–ç ä¸è§£ç ç»Ÿä¸€ç”¨ string ç±»å‹å³å¯æ­£å¸¸å–å€¼&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;claims[&#34;uid&#34;] = strconv.FormatUint(uid, 10) //ç¼–ç  
uid := claims[&#34;uid&#34;].(string) //è§£ç &lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç”±äºæ–‡æ¡£é‡Œæ²¡æœ‰ä»‹ç»å…·ä½“åŸå› ï¼Œåªèƒ½ç±»å‹è½¬æ¢å­˜è¿›å»äº†&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>Go å…¨å±€å˜é‡ä½œç”¨åŸŸ</title>
      <link>https://www.wingsxdu.com/p1357/</link>
      <pubDate>Tue, 23 Jul 2019 10:55:16 +0000</pubDate>
      
      <guid>https://www.wingsxdu.com/p1357/</guid>
      
        <description>

&lt;h5 id=&#34;é—®é¢˜æ‰€åœ¨&#34;&gt;é—®é¢˜æ‰€åœ¨&lt;/h5&gt;

&lt;p&gt;&lt;span&gt;å…¨å±€å˜é‡çš„ä½œç”¨åŸŸæ˜¯æ•´ä¸ªåŒ…ï¼Œå±€éƒ¨å˜é‡çš„ä½œç”¨åŸŸæ˜¯è¯¥å˜é‡æ‰€åœ¨çš„èŠ±æ‹¬å·å†…ã€‚æœ€è¿‘ä½¿ç”¨ gorm æ—¶é‡åˆ°äº†ä½¿ç”¨å…¨å±€å˜é‡èµ‹å€¼ä½œç”¨åŸŸçš„é—®é¢˜ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;var db *gorm.DB // å…¨å±€å˜é‡ç”¨ =

func Init() {
    db, err := gorm.Open(&#34;mysql&#34;, &#34;//&#34;)
    debug.CheckErr(err)
    //defer db.Close()
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœä½¿ç”¨è¯­æ³•ç³– := èµ‹å€¼ï¼Œå…¨å±€å˜é‡ db çš„ä½œç”¨åŸŸåªåœ¨ Init{} å‡½æ•°å†…ï¼Œå…¶ä»–å‡½æ•°å†…è°ƒç”¨ä¼šæŠ¥é”™ç©ºæŒ‡é’ˆã€‚&lt;/p&gt;

&lt;p&gt;å› æ­¤è‹¥é¿å…å…¨å±€å˜é‡å˜æˆå±€éƒ¨å˜é‡ï¼Œåº”é‡‡ç”¨ â€œ=&amp;#8221; å†™æ³•ï¼š&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;var db *gorm.DB // å…¨å±€å˜é‡ç”¨ =

func Init() {
    var err error
    db, err = gorm.Open(&#34;mysql&#34;, &#34;//&#34;)
    debug.CheckErr(err)
    //defer db.Close()
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;

&lt;p&gt;æ­¤æ—¶ db å¯åœ¨åŒ…å†…çš„å…¶ä»–å‡½æ•°ä¸­è°ƒç”¨&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>Go mod æ¨¡å—åŒ–ç®¡ç†</title>
      <link>https://www.wingsxdu.com/p1351/</link>
      <pubDate>Tue, 23 Jul 2019 08:21:35 +0000</pubDate>
      
      <guid>https://www.wingsxdu.com/p1351/</guid>
      
        <description>

&lt;h5 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h5&gt;

&lt;p&gt;&lt;span&gt;åœ¨Goè¯­è¨€çš„å‘å±•å²ä¸­ï¼Œ2018å¹´æ³¨å®šæ˜¯ä¸€ä¸ªé‡è¦çš„æ—¶é—´ç‚¹ï¼Œå› ä¸ºåœ¨8æœˆæ­£å¼å‘å¸ƒäº†Go1.11ã€‚Go1.11è¯­è¨€éƒ¨åˆ†è™½ç„¶æ²¡æœ‰å˜åŒ–ï¼Œä½†æ˜¯å¸¦æ¥äº†3ä¸ªé‡é‡çº§çš„æ›´æ–°ï¼šä¸€æ˜¯&lt;/span&gt;&lt;code&gt;amd64&lt;/code&gt;&lt;span&gt;å¹³å°å®Œå…¨æ”¯æŒ&lt;/span&gt;&lt;code&gt;AVX512&lt;/code&gt;&lt;span&gt;é«˜æ€§èƒ½çš„æŒ‡ä»¤é›†ï¼›äºŒæ˜¯Go1.11å¼€å§‹æ”¯æŒæ¨¡å—åŒ–çš„ç‰¹æ€§ï¼›ä¸‰æ˜¯Goè¯­è¨€å¼€å§‹WebAssemblyå¹³å°ã€‚è¿™å‡ ä¸ªæ”¹è¿›å°†æˆä¸ºåGo1æ—¶ä»£æœ€å¤§çš„äº®ç‚¹ã€‚è€Œæ¨¡å—æ˜¯ç®¡ç†ä»»ä½•å¤§å‹å·¥ç¨‹å¿…å¤‡çš„å·¥å…·ï¼Œä½†æ˜¯Goè¯­è¨€å‘å¸ƒåå¹´æ¥ä¸€ç›´ç¼ºä¹å®˜æ–¹çš„æ¨¡å—åŒ–å·¥å…·ã€‚æ¨¡å—åŒ–çš„ç‰¹æ€§å°†å½»åº•è§£å†³å¤§å‹Goè¯­è¨€å·¥ç¨‹çš„ç®¡ç†é—®é¢˜ï¼Œè‡³æ­¤Go1é™¤äº†ç¼ºå°‘æ³›å‹ç­‰ç‰¹æ€§å·²ç»è¿‘ä¹å®Œç¾ã€‚ä»Go1.13å¼€å§‹ï¼ˆ2019å¹´8æœˆï¼‰ï¼Œæ¨¡å—åŒ–å°†æˆä¸ºé»˜è®¤çš„ç‰¹æ€§ï¼Œå½»åº•å‘Šåˆ«&lt;code&gt;GOPATH&lt;/code&gt;æ—¶ä»£ï¼›&lt;/span&gt;&lt;/p&gt;

&lt;h5 id=&#34;ä½¿ç”¨&#34;&gt;ä½¿ç”¨&lt;/h5&gt;

&lt;p&gt;golang 1.11ç‰ˆæœ¬å¼€å¯æœåŠ¡ï¼š&lt;code class=&#34;null&#34;&gt;set GO111MODULE=on&lt;/code&gt;ï¼Œé«˜äºæ­¤ç‰ˆæœ¬ä¸ç”¨å¼€å¯&lt;/p&gt;

&lt;p&gt;å­˜åœ¨ç½‘ç»œç¯å¢ƒé—®é¢˜çš„å¯ä»¥è®¾ç½®ä»£ç†ï¼š&lt;code class=&#34;null&#34;&gt;export GOPROXY=&lt;a href=&#34;https://goproxy.io&#34;&gt;https://goproxy.io&lt;/a&gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;å–æ¶ˆä»£ç†ï¼ˆè®¾ç½®åœ°å€ä¸ºç©ºï¼‰ï¼š&lt;code class=&#34;null&#34;&gt;export GOPROXY=&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;ä½¿ç”¨go mod ç®¡ç†é¡¹ç›®ï¼Œå°±ä¸éœ€è¦éå¾—æŠŠé¡¹ç›®æ”¾åˆ°GOPATHæŒ‡å®šç›®å½•ä¸‹ï¼Œä½ å¯ä»¥åœ¨ä»»ä½•ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼š&lt;/span&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code class=&#34;null&#34;&gt;cd Desktop/test&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&#34;null&#34;&gt;go mod init&lt;/code&gt; // åˆå§‹åŒ–æ¨¡å—ï¼Œä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ç”ŸæˆÂ &lt;code class=&#34;null&#34;&gt;go.mod&lt;/code&gt;æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&#34;null&#34;&gt;go mod tidy&lt;/code&gt; // æ ¹æ®&lt;code class=&#34;null&#34;&gt;go.mod&lt;/code&gt;æ–‡ä»¶æ¥å¤„ç†ä¾èµ–å…³ç³»ï¼Œç”Ÿæˆ&lt;code class=&#34;null&#34;&gt;go.sum&lt;/code&gt;æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;go mod vendor&lt;/code&gt; // &lt;span&gt;å°†ä¾èµ–åŒ…å¤åˆ¶åˆ°é¡¹ç›®ä¸‹çš„Â &lt;/span&gt;&lt;code&gt;vendor&lt;/code&gt;&lt;span&gt;ç›®å½•ã€‚&lt;span style=&#34;color: #ff0000;&#34;&gt;å¼ºçƒˆä¸æ¨èä½¿ç”¨&lt;/span&gt;ï¼Œå»ºè®®ä½¿ç”¨è¢«å¢™åŒ…å®åœ¨æ— æ³•ä¸‹è½½çš„å¯ä»¥è¿™ä¹ˆå¤„ç†ï¼Œæ–¹ä¾¿ç”¨æˆ·å¿«é€Ÿä½¿ç”¨å‘½ä»¤&lt;/span&gt;&lt;code&gt;go build -mod=vendor&lt;/code&gt;&lt;span&gt;ç¼–è¯‘&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;ol&gt;
&lt;li&gt;&lt;span&gt;go.mod æ–‡ä»¶å¿…é¡»è¦æäº¤åˆ°gitä»“åº“ï¼Œä½† go.sum æ–‡ä»¶å¯ä»¥ä¸ç”¨æäº¤åˆ°gitä»“åº“ï¼Œgo.sum æ–‡ä»¶ä¸ºåŒ…ç­¾åï¼Œè·¨å¹³å°æ¡ä»¶ä¸‹å¯èƒ½ä¼šæŠ¥é”™ï¼›&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;go æ¨¡å—ç‰ˆæœ¬æ§åˆ¶çš„ä¸‹è½½æ–‡ä»¶åŠä¿¡æ¯ä¼šå­˜å‚¨åˆ° GOPATH/pkg/mod æ–‡ä»¶å¤¹é‡Œï¼Œsrc ç›®å½•ä¸‹ä¸å†å­˜æ”¾åŒ…ï¼›&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;ç¯å¢ƒå˜é‡GOPATHä¸å†ç”¨äºè§£æimportsåŒ…è·¯å¾„ï¼Œå³åŸæœ‰çš„GOPATH/src/ä¸‹çš„åŒ…ï¼Œé€šè¿‡importæ˜¯æ‰¾ä¸åˆ°äº†ã€‚&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;æ—§ç‰ˆ go get å–åŒ…è¿‡ç¨‹ç±»ä¼¼ï¼šgit clone + go install , å¼€å¯Go ModuleåŠŸèƒ½å go get åªæœ‰ git clone(download)è¿‡ç¨‹äº†ã€‚è€çš„go getå–å®Œä¸»åŒ…åï¼Œä¼šå¯¹å…¶repoä¸‹çš„submoduleè¿›è¡Œå¾ªç¯æ‹‰å–ã€‚æ–°çš„go getä¸å†æ”¯æŒsubmoduleå­æ¨¡å—æ‹‰å–ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h5 id=&#34;ç‰ˆæœ¬é—®é¢˜&#34;&gt;ç‰ˆæœ¬é—®é¢˜&lt;/h5&gt;

&lt;p&gt;åœ¨æ‰§è¡Œç¼–è¯‘æŒ‡ä»¤ go build/run æˆ– go mod tidy åä¼šæ ¹æ® import çš„åŒ…è‡ªåŠ¨ç´¢å¼•ï¼Œä½†æ˜¯éƒ¨åˆ†åŒ…çš„ import è·¯å¾„å·²ç»æ”¹å˜ï¼Œå¦‚ï¼šecho çš„ &lt;code class=&#34;null&#34;&gt;import &lt;/code&gt;&lt;code class=&#34;null&#34;&gt;&amp;ldquo;github.com/labstack/echo/&amp;rdquo;&lt;/code&gt;ç´¢å¼•çš„åŒ…æœ€é«˜ä¸º v3 ç‰ˆæœ¬ï¼Œ&lt;code class=&#34;null&#34;&gt;import &lt;/code&gt;&lt;code class=&#34;null&#34;&gt;&amp;ldquo;github.com/labstack/echo/v4&amp;rdquo;&lt;/code&gt;ä¸ºecho çš„v4ç‰ˆæœ¬ã€‚&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>Linux Mysql æ•°æ®åº“ç›¸å…³æ“ä½œ</title>
      <link>https://www.wingsxdu.com/p1258/</link>
      <pubDate>Thu, 30 May 2019 12:27:40 +0000</pubDate>
      
      <guid>https://www.wingsxdu.com/p1258/</guid>
      
        <description>&lt;p&gt;ç™»å½•å¹¶åˆ›å»ºæ•°æ®åº“ï¼š&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;mysql -u username-p
&amp;lt;span&gt;create database databasename;&amp;lt;/span&gt;
use databasename;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿®æ”¹è¡¨å­—æ®µå±æ€§&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;alter table user MODIFY uid VARCHAR(10);&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æŸ¥çœ‹è¡¨ç»“æ„&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;desc user;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://www.wingsxdu.com/wp-content/uploads/2019/05/mysql-desc-1-1.png&#34; alt=&#34;&#34; width=&#34;597&#34; height=&#34;315&#34; class=&#34;alignnone size-full wp-image-1259&#34; /&gt;&lt;/p&gt;

&lt;p&gt;æŸ¥çœ‹å»ºè¡¨è¯­å¥&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;show create table user;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://www.wingsxdu.com/wp-content/uploads/2019/05/mysql-show-1-1.png&#34; alt=&#34;&#34; width=&#34;1036&#34; height=&#34;455&#34; class=&#34;alignnone size-full wp-image-1260&#34; /&gt;&lt;/p&gt;

&lt;p&gt;é€€å‡ºMysql&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;quit;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¯¼å‡ºæ•´ä¸ªæ•°æ®åº“&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;mysqldump -u ç”¨æˆ·å -p æ•°æ®åº“å &amp;gt; å¯¼å‡ºçš„æ–‡ä»¶å
mysqldump -u root -p test &amp;gt; test.sql
ls//å¯¼å‡ºåˆ°å½“å‰ç›®å½•ä¸‹&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¯¼å‡ºæŸä¸ªè¡¨&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;mysqldump -u ç”¨æˆ·å -p æ•°æ®åº“å è¡¨å&amp;gt; å¯¼å‡ºçš„æ–‡ä»¶å
mysqldump -u root -p test user &amp;gt; test_user.sql
ls&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¯¼å…¥æ•°æ®åº“&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;mysql -u ç”¨æˆ·å -p å¯†ç  æ•°æ®åº“å &amp;lt; æ•°æ®åº“å.sql
mysql -u root -p test &amp;lt; test.sql&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>Ubunutu ECSæœåŠ¡å™¨å®‰è£…ç•Œé¢å›¾å½¢</title>
      <link>https://www.wingsxdu.com/p1256/</link>
      <pubDate>Wed, 29 May 2019 03:52:24 +0000</pubDate>
      
      <guid>https://www.wingsxdu.com/p1256/</guid>
      
        <description>&lt;nav&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#å®‰è£…æµç¨‹&#34;&gt;å®‰è£…æµç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;

&lt;p&gt;linux æœåŠ¡å™¨éƒ½æ˜¯æ²¡æœ‰ç•Œé¢å›¾å½¢çš„â€”â€”å½“ç„¶ä¹Ÿä¸éœ€è¦ç•Œé¢å›¾å½¢ï¼Œä¼šæ¶ˆè€—å¤šä½™çš„èµ„æºã€‚ä½†æ˜¯ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºå’Œå¼€å‘è°ƒè¯•ï¼Œä¹Ÿä¼šæœ‰ç•Œé¢å›¾å½¢çš„å¼€å‘éœ€æ±‚ã€‚&lt;/p&gt;

&lt;h6 id=&#34;å®‰è£…æµç¨‹&#34;&gt;å®‰è£…æµç¨‹&lt;/h6&gt;

&lt;p&gt;è¿æ¥æœåŠ¡å™¨ï¼š&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;apt-get update
apt-get upgrade
# å®‰è£…ubuntuæ¡Œé¢ç³»ç»Ÿï¼Œä¸€è·¯é»˜è®¤
apt-get install ubuntu-desktop
# é‡å¯æœåŠ¡å™¨
reb0ot&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç™»å½•ï¼š&lt;/p&gt;

&lt;p&gt;è¿™æ—¶å‘ç°åªèƒ½ç”¨ guest ç”¨æˆ·ç™»å½•ï¼Œéœ€è¦æ›´æ”¹ç™»å½•ç”¨æˆ·&lt;/p&gt;

&lt;p&gt;ç”¨ xshell æˆ–putty ä»¥ root ç”¨æˆ·ç™»å½•æœåŠ¡å™¨ï¼ˆæˆ‘ç›´æ¥ç”¨ winscp ä¿®æ”¹æ–‡ä»¶ï¼‰&lt;/p&gt;

&lt;p&gt;ç¼–è¾‘ï¼š&lt;code class=&#34;null&#34;&gt;/usr/share/lightdm/lightdm.conf.d/50-ubuntu.conf&lt;/code&gt;&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;# ä¿®æ”¹å‰
[Seat:*]
user-session=ubuntu
# ä¿®æ”¹å
[Seat:*]
user-session=ubuntu
greeter-show-manual-login=true
allow-guest=false&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç¼–è¾‘ï¼š&lt;code class=&#34;null&#34;&gt;/root/.profile&lt;/code&gt;&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;# ä¿®æ”¹å‰
    # ~/.profile: executed by Bourne-compatible login shells.
    if [ &#34;$BASH&#34; ]; then
      if [ -f ~/.bashrc ]; then
        . ~/.bashrc
      fi
    fi
    mesg n || true
# ä¿®æ”¹å
    # ~/.profile: executed by Bourne-compatible login shells.
    if [ &#34;$BASH&#34; ]; then
      if [ -f ~/.bashrc ]; then
        . ~/.bashrc
      fi
    fi
    tty -s &amp;&amp; mesg n || true&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é‡å¯æœåŠ¡å™¨ï¼šreboot&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>Ubuntu FISCO BCOS Web3 åº”ç”¨å¼€å‘ç¯å¢ƒæ­å»º</title>
      <link>https://www.wingsxdu.com/p1250/</link>
      <pubDate>Wed, 29 May 2019 03:08:31 +0000</pubDate>
      
      <guid>https://www.wingsxdu.com/p1250/</guid>
      
        <description>

&lt;p&gt;Java åº”ç”¨çš„å¼€å‘ç¯å¢ƒå¤ªç¹çäº†ï¼Œ è®°ä¸€ä¸‹æ­å»ºæµç¨‹ã€‚ï¼ˆç®€åŒ–ç‰ˆï¼‰&lt;/p&gt;

&lt;h5 id=&#34;ç¯å¢ƒæ­å»º&#34;&gt;ç¯å¢ƒæ­å»º&lt;/h5&gt;

&lt;h6 id=&#34;å®‰è£…jdk&#34;&gt;å®‰è£…JDK&lt;/h6&gt;

&lt;p&gt;FISCO BCOS è¦æ±‚ JDK ä¸ºOracle ç‰ˆæœ¬ï¼Œä¸‹è½½é“¾æ¥ï¼š&lt;a href=&#34;https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;&lt;a href=&#34;https://www.oracle.com/&#34;&gt;https://www.oracle.com/&lt;/a&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å®‰è£…ï¼š&lt;code class=&#34;null&#34;&gt;sudo tar -zxvf jdk-8u211-linux-x64.tar.gz -C /usr/local&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;é…ç½®ç¯å¢ƒå˜é‡ï¼švi /etc/profile&lt;/p&gt;

&lt;p&gt;æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;export JAVA_HOME=/usr/local/jdk1.8.0_211
export JRE_HOME=${JAVA_HOME}/jre
export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib
export PATH=${JAVA_HOME}/bin:$PATH&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é‡åŠ è½½é…ç½®æ–‡ä»¶ï¼š&lt;code class=&#34;null&#34;&gt;source /etc/profile&lt;/code&gt;&lt;/p&gt;

&lt;h6 id=&#34;å®‰è£…-gradle&#34;&gt;å®‰è£… Gradle&lt;/h6&gt;

&lt;p&gt;ä¸‹è½½é“¾æ¥ï¼š&lt;a href=&#34;https://gradle.org/releases/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;&lt;a href=&#34;https://gradle.org/releases/&#34;&gt;https://gradle.org/releases/&lt;/a&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å®‰è£…ï¼š&lt;code class=&#34;null&#34;&gt;sudo unzip -d /opt gradle.zip&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;é…ç½®ç¯å¢ƒå˜é‡ï¼švi /etc/profile&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;export GRADLE_HOME=/opt/gradle-5.4.1
export PATH=$GRADLE_HOME/bin:$PATH&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é‡åŠ è½½é…ç½®æ–‡ä»¶ï¼š&lt;code class=&#34;null&#34;&gt;source /etc/profile&lt;/code&gt;&lt;/p&gt;

&lt;h5 id=&#34;åº”ç”¨å¼€å‘&#34;&gt;åº”ç”¨å¼€å‘&lt;/h5&gt;

&lt;p&gt;IDEï¼šidea&lt;/p&gt;

&lt;h6 id=&#34;è·å–-web3-åº”ç”¨å¼€å‘åŒ…-cd-åˆ°å·¥ç¨‹ç›®å½•ä¸‹-æ‰§è¡Œ-code-class-null-gradle-build-code&#34;&gt;è·å– web3 åº”ç”¨å¼€å‘åŒ…ï¼Œcd åˆ°å·¥ç¨‹ç›®å½•ä¸‹ã€‚æ‰§è¡Œ&lt;code class=&#34;null&#34;&gt;gradle build&lt;/code&gt;ã€‚&lt;/h6&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>Go Java è·¨è¯­è¨€é€šä¿¡</title>
      <link>https://www.wingsxdu.com/p1244/</link>
      <pubDate>Mon, 27 May 2019 06:53:09 +0000</pubDate>
      
      <guid>https://www.wingsxdu.com/p1244/</guid>
      
        <description>

&lt;h5 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h5&gt;

&lt;p&gt;è¿™ä¸¤ç¯‡æ–‡ç« &lt;a href=&#34;https://www.wingsxdu.com/?p=1204&#34;&gt;Java Grpc å·¥ç¨‹ä¸­ä½¿ç”¨&lt;/a&gt; Â &lt;a href=&#34;https://www.wingsxdu.com/?p=1204&#34;&gt;Go GRPCä½¿ç”¨&lt;/a&gt;Â  ä»‹ç»äº† golangã€java ä¸­ grpc çš„ä½¿ç”¨ï¼Œä½†ä»…ä»…æ˜¯åŒè¯­è¨€çš„è¿›ç¨‹é—´é€šä¿¡ï¼Œgrpc åœ¨æ€§èƒ½ä¸Šå¹¶æ²¡æœ‰ä¼˜åŠ¿ã€‚grpc çš„ä¼˜åŠ¿åœ¨äºè·¨è¯­è¨€ã€‚&lt;/p&gt;

&lt;h5 id=&#34;æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯&#34;&gt;æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯&lt;/h5&gt;

&lt;p&gt;è¿™é‡Œçš„æœåŠ¡ç«¯æŒ‡æ¥å—æ•°æ®å¹¶å°†å¤„ç†åçš„ç»“æœå‘é€å›å»ï¼Œå®¢æˆ·ç«¯æŒ‡å‘é€æ•°æ®è‡³å¦ä¸€ä¸ªç¨‹åºè¿›è¡Œå¤„ç†ã€‚ç®€è¨€ä¹‹ï¼Œä¸€ä¸ªæ˜¯å‘é€æ¶ˆæ¯ï¼Œä¸€ä¸ªæ˜¯æ¥å—æ¶ˆæ¯å¹¶å¤„ç†ï¼Œä¸ä¼ ç»Ÿçš„å‰åç«¯äº¤äº’æ²¡æœ‰åŒºåˆ«ã€‚grpc ä½¿å¾—è·¨è¯­è¨€ç¨‹åºé—´çš„é€šä¿¡æœåŠ¡å¼€å‘æ›´åŠ ä¾¿æ·ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨å¾®æœåŠ¡ä¸­ï¼Œä¸€ä¸ªç¨‹åºå¯ä»¥æ˜¯æœåŠ¡ç«¯ä¹Ÿå¯ä»¥æ˜¯å®¢æˆ·ç«¯ï¼Œå…¶èº«ä»½å–å†³äºå¤„ç†çš„ä»»åŠ¡ç±»å‹ã€‚&lt;/p&gt;

&lt;h5 id=&#34;ä½¿ç”¨&#34;&gt;ä½¿ç”¨&lt;/h5&gt;

&lt;h6 id=&#34;å¼€å¯æœåŠ¡&#34;&gt;å¼€å¯æœåŠ¡&lt;/h6&gt;

&lt;p&gt;Java ç¨‹åºä¸ Golang ç¨‹åºå…ˆå¯åŠ¨æœåŠ¡ç«¯ï¼Œç›‘å¬ç«¯å£ï¼Œå†å¯åŠ¨å®¢æˆ·ç«¯å‘é€ä¿¡æ¯ã€‚&lt;/p&gt;

&lt;h6 id=&#34;ç›‘å¬å¤šé¡¹æœåŠ¡&#34;&gt;ç›‘å¬å¤šé¡¹æœåŠ¡&lt;/h6&gt;

&lt;p&gt;å¤šæ•°æƒ…å†µä¸‹ï¼Œç¨‹åºé—´çš„é€šä¿¡ä¸ä¼šåªæœ‰ä¸€ç§ç±»å‹çš„æœåŠ¡ï¼Œæ·»åŠ å¤šé¡¹ä»»åŠ¡ç›‘å¬ï¼š&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;        server = ServerBuilder.forPort(port)
                .addService(new UserServer.CreateAccountImpl())
                .addService(new UserServer.AddItemImpl())
                .addService(new UserServer.DeleteItemImpl())
                .addService(new UserServer.HasItemImpl())
                .addService(new UserServer.StoreTransactionImpl())
                .addService(new UserServer.HasTransactionImpl())
                .addService(new UserServer.RefundImpl())
                .addService(new UserServer.GetTxByTxIdImpl())
                .build()
                .start();&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>Java Grpc å·¥ç¨‹ä¸­ä½¿ç”¨</title>
      <link>https://www.wingsxdu.com/p1227/</link>
      <pubDate>Thu, 23 May 2019 07:06:40 +0000</pubDate>
      
      <guid>https://www.wingsxdu.com/p1227/</guid>
      
        <description>

&lt;h5 id=&#34;ç»­ä¸Šç¯‡ä»‹ç»&#34;&gt;ç»­ä¸Šç¯‡ä»‹ç»&lt;/h5&gt;

&lt;p&gt;&lt;a href=&#34;https://www.wingsxdu.com/?p=1216&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Java GRPC proto ç¼–è¯‘&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ç°åœ¨æˆ‘ä»¬æ‹¿åˆ°äº†ç¼–è¯‘çš„ Java æ–‡ä»¶ï¼Œå…¶ä¸­ User.java ä¸º rpc é€šä¿¡ï¼Œæ–‡ä»¶ååŒ .proto æ–‡ä»¶åç§°ï¼›CreateAccountGrpc.java ä¸ºå®šä¹‰çš„æœåŠ¡åç§°ï¼Œå®šä¹‰å‡ ä¸ªæœåŠ¡å°±ä¼šç¼–è¯‘å‡ºå‡ ä¸ª**Grpc.java æ–‡ä»¶&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://www.wingsxdu.com/wp-content/uploads/2019/05/java-proto-1-name-1-1.png&#34; alt=&#34;&#34; width=&#34;646&#34; height=&#34;340&#34; class=&#34;size-full wp-image-1228 aligncenter&#34; /&gt;&lt;/p&gt;

&lt;h5 id=&#34;å·¥ç¨‹ä¸­ä½¿ç”¨&#34;&gt;å·¥ç¨‹ä¸­ä½¿ç”¨&lt;/h5&gt;

&lt;p&gt;åœ¨ src ç›®å½•ä¸‹æ–°å»º package grpc.userï¼Œå°†proto ç¼–è¯‘å¾—åˆ°çš„ javaç±»æ–‡ä»¶éƒ½å¤åˆ¶åˆ°ç›®å½•ä¸‹&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://www.wingsxdu.com/wp-content/uploads/2019/05/java-proto-1-use-1-1.png&#34; alt=&#34;&#34; width=&#34;457&#34; height=&#34;437&#34; class=&#34;size-full wp-image-1229 aligncenter&#34; /&gt;&lt;/p&gt;

&lt;h6 id=&#34;build-gradleç¯å¢ƒé…ç½®&#34;&gt;build.gradleç¯å¢ƒé…ç½®&lt;/h6&gt;

&lt;p&gt;å’Œ proto ç¼–è¯‘é…ç½®ä¿æŒä¸€è‡´å³å¯&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;apply plugin: &#39;java&#39;
apply plugin: &#39;com.google.protobuf&#39;
apply plugin: &#39;idea&#39;
repositories {
    maven { url &#34;https://maven.aliyun.com/repository/central/&#34; }
}
dependencies {
    compile &#34;io.grpc:grpc-netty:1.20.0&#34;
    compile &#34;io.grpc:grpc-protobuf:1.20.0&#34;
    compile &#34;io.grpc:grpc-stub:1.20.0&#34;
}
buildscript {
    repositories {
        maven { url &#34;https://maven.aliyun.com/repository/central/&#34; }
    }
    dependencies {
        classpath &#39;com.google.protobuf:protobuf-gradle-plugin:0.8.8&#39;
    }
}
protobuf {
    protoc {
        artifact = &#39;com.google.protobuf:protoc:3.7.1&#39;
    }
    plugins {
        grpc {
            artifact = &#39;io.grpc:protoc-gen-grpc-java:1.20.0&#39;
        }
    }
    generateProtoTasks {
        ofSourceSet(&#39;main&#39;)*.plugins {
            grpc { }
        }
    }
}&lt;/code&gt;&lt;/pre&gt;

&lt;h6 id=&#34;å®¢æˆ·ç«¯&#34;&gt;å®¢æˆ·ç«¯&lt;/h6&gt;

&lt;p&gt;åœ¨ç›®å½•ä¸‹æ–°å»º UserClient.java&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;java&#34;&gt;package grpc.user;
import io.grpc.ManagedChannel;
import io.grpc.ManagedChannelBuilder;
import java.util.concurrent.TimeUnit;
public class UserClient {
    private final ManagedChannel channel;
    private final CreateAccountGrpc.CreateAccountBlockingStub blockingStub;
    private final CreateAccountGrpc.CreateAccountStub Stub;
    public static void main(String[] args) {
        try {
            UserClient service = new UserClient(&#34;localhost&#34;, 1330);
            System.out.println(service.creatAccount(&#34;beihai&#34;));
            service.shutdown();
        } catch (Exception e) {
            System.out.println(&#34;å‡ºç°é”™è¯¯ï¼š&#34;+e);
        }
    }
    public UserClient(String host, int port) {
        this(ManagedChannelBuilder.forAddress(host, port).usePlaintext());
    }
    /** Construct client for accessing RouteGuide server using the existing channel. */
    public UserClient(ManagedChannelBuilder&amp;lt;?&amp;gt; channelBuilder) {
        channel = channelBuilder.build();
        blockingStub = CreateAccountGrpc.newBlockingStub(channel);
        Stub = CreateAccountGrpc.newStub(channel);
    }
    public void shutdown() throws InterruptedException{
        channel.shutdown().awaitTermination(5, TimeUnit.SECONDS);
    }
    public String creatAccount(String uid){
        User.CreateAccountRequest request = User.CreateAccountRequest.newBuilder().setUid(uid).setService(&#34;Register&#34;).build();
        User.CreateRequestResponse response = blockingStub.createAccount(request);
        return response.getValue();
    }
}&lt;/code&gt;&lt;/pre&gt;

&lt;h6 id=&#34;æœåŠ¡ç«¯&#34;&gt;æœåŠ¡ç«¯&lt;/h6&gt;

&lt;p&gt;åœ¨ç›®å½•ä¸‹æ–°å»º UserServer.java&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;package grpc.user;
import io.grpc.Server;
import io.grpc.ServerBuilder;
import io.grpc.stub.StreamObserver;
import java.io.IOException;
import org.bcosliteclient.demoDataTransaction;
public class UserServer {
    private Server server;
    public void start() throws IOException {
        /* The port on which the server should run */
        int port = 1330;
        server = ServerBuilder.forPort(port)
                .addService(new UserServer.CreateAccountImpl())
                .build()
                .start();
        Runtime.getRuntime().addShutdownHook(new Thread(() -&amp;gt; {
            // Use stderr here since the logger may have been reset by its JVM shutdown hook.
            System.err.println(&#34;*** shutting down gRPC server since JVM is shutting down&#34;);
            UserServer.this.stop();
            System.err.println(&#34;*** server shut down&#34;);
        }));
    }
    private void stop() {
        if (server != null) {
            server.shutdown();
        }
    }
    /**
     * Await termination on the main thread since the grpc library uses daemon threads.
     */
    public void blockUntilShutdown() throws InterruptedException {
        if (server != null) {
            server.awaitTermination();
        }
    }
    /**
     * Main launches the server from the command line.
     */
    public static void main(String[] args) throws IOException, InterruptedException {
        final UserServer server = new UserServer();
        server.start();
        server.blockUntilShutdown();
    }
    static class CreateAccountImpl extends CreateAccountGrpc.CreateAccountImplBase {
        @Override
        public void createAccount(User.CreateAccountRequest req, StreamObserver&amp;lt;User.CreateRequestResponse&amp;gt; responseObserver) {
            //System.out.println(req.getUid());
            String value ;
            if (req.getService().equals(&#34;Register&#34;)) {
                try {
                    value = &#34;Register&#34;;
                } catch (Exception e) {
                    value = &#34;error&#34;;
                    e.printStackTrace();
                }
            } else if (req.getService().equals(&#34;TokenQuery&#34;)) {
                try {
                    value = &#34;TokenQuery&#34;;
                } catch (Exception e) {
                    value = &#34;error&#34;;
                    e.printStackTrace();
                }
            } else {
                value = &#34;error&#34;;
            }
            User.CreateRequestResponse response = User.CreateRequestResponse.newBuilder().setValue(value).build();
            responseObserver.onNext(response);
            responseObserver.onCompleted();
        }
    }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å…ˆè¿è¡Œ server ç«¯ç›‘å¬ç«¯å£ï¼Œå†è¿è¡Œå®¢æˆ·ç«¯å‘é€ä¿¡æ¯ï¼Œå¯åœ¨æ§åˆ¶å°çœ‹åˆ°è¾“å‡ºã€‚&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>Java GRPC proto ç¼–è¯‘</title>
      <link>https://www.wingsxdu.com/p1216/</link>
      <pubDate>Thu, 23 May 2019 06:04:45 +0000</pubDate>
      
      <guid>https://www.wingsxdu.com/p1216/</guid>
      
        <description>

&lt;p&gt;ç›¸è¾ƒäºGoï¼ŒJava ä¸­çš„ä½¿ç”¨æ­¥éª¤å°±ç¹çäº†å¾ˆå¤šï¼Œæˆ‘ä¹Ÿæ˜¯æŠ˜è…¾äº†å¾ˆä¹…æ‰ææ¸…æ¥šã€‚ã€&lt;/p&gt;

&lt;h5 id=&#34;ç¯å¢ƒ&#34;&gt;ç¯å¢ƒ&lt;/h5&gt;

&lt;p&gt;ubuntu 16.04&lt;/p&gt;

&lt;p&gt;IDEï¼šIntellig IDEA&lt;/p&gt;

&lt;p&gt;Java ç¼–è¯‘ï¼šGradle&lt;/p&gt;

&lt;h5 id=&#34;proto-ç¼–è¯‘&#34;&gt;proto ç¼–è¯‘&lt;/h5&gt;

&lt;p&gt;ä½¿ç”¨ Gradle æ–°å»ºå·¥ç¨‹&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://www.wingsxdu.com/wp-content/uploads/2019/05/java-gradle-newproject-1-1.png&#34; alt=&#34;&#34; width=&#34;1058&#34; height=&#34;720&#34; class=&#34;size-full wp-image-1218 aligncenter&#34; /&gt;&lt;/p&gt;

&lt;p&gt;å…¶ä»–çš„éšä¾¿å¡«ï¼Œæˆ‘ä»¬åªç”¨è¿™ä¸ªå·¥ç¨‹ç¼–è¯‘ protoï¼Œå’Œå·¥ä½œå·¥ç¨‹åˆ†å¼€æ“ä½œ&lt;/p&gt;

&lt;h6 id=&#34;build-gradle-é…ç½®&#34;&gt;build.gradle é…ç½®&lt;/h6&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;java&#34;&gt;apply plugin: &#39;java&#39;
apply plugin: &#39;com.google.protobuf&#39;
apply plugin: &#39;idea&#39;
repositories {
    maven { url &#34;https://maven.aliyun.com/repository/central/&#34; }
}
dependencies {
    compile &#34;io.grpc:grpc-netty:1.20.0&#34;
    compile &#34;io.grpc:grpc-protobuf:1.20.0&#34;
    compile &#34;io.grpc:grpc-stub:1.20.0&#34;
}
buildscript {
    repositories {
        maven { url &#34;https://maven.aliyun.com/repository/central/&#34; }
    }
    dependencies {
        classpath &#39;com.google.protobuf:protobuf-gradle-plugin:0.8.8&#39;
    }
}
protobuf {
    protoc {
        artifact = &#39;com.google.protobuf:protoc:3.7.1&#39;
    }
    plugins {
        grpc {
            artifact = &#39;io.grpc:protoc-gen-grpc-java:1.20.0&#39;
        }
    }
    generateProtoTasks {
        ofSourceSet(&#39;main&#39;)*.plugins {
            grpc { }
        }
    }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;grpc-java ç‰ˆæœ¬ä¿¡æ¯æŸ¥çœ‹ï¼š&lt;a href=&#34;https://github.com/grpc/grpc-java&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;&lt;a href=&#34;https://github.com/grpc/grpc-java&#34;&gt;https://github.com/grpc/grpc-java&lt;/a&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;protobuf-gradle-plugin ç‰ˆæœ¬ä¿¡æ¯æŸ¥çœ‹ï¼š&lt;a href=&#34;https://plugins.gradle.org/plugin/com.google.protobuf&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;&lt;a href=&#34;https://plugins.gradle.org/plugin/com.google.protobuf&#34;&gt;https://plugins.gradle.org/plugin/com.google.protobuf&lt;/a&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;protoc ç‰ˆæœ¬ä¿¡æ¯æŸ¥çœ‹ï¼šåœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼š&lt;code class=&#34;bash&#34;&gt;protoc &amp;ndash;version&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://www.wingsxdu.com/wp-content/uploads/2019/05/ubuntu-proto-version-1.png&#34; alt=&#34;&#34; width=&#34;737&#34; height=&#34;216&#34; class=&#34;aligncenter size-full wp-image-1219&#34; /&gt;&lt;img src=&#34;https://www.wingsxdu.com/wp-content/uploads/2019/05/ubuntu-proto-version-1-1.png&#34; alt=&#34;&#34; width=&#34;737&#34; height=&#34;216&#34; class=&#34;size-full wp-image-1219 aligncenter&#34; /&gt;&lt;/p&gt;

&lt;p&gt;å°† user.proto æ–‡ä»¶å¤åˆ¶åˆ° src/main/protoæ–‡ä»¶å¤¹ä¸‹ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://www.wingsxdu.com/wp-content/uploads/2019/05/java-proto-1.png&#34; alt=&#34;&#34; width=&#34;1343&#34; height=&#34;525&#34; class=&#34;aligncenter size-full wp-image-1221&#34; /&gt;&lt;/p&gt;

&lt;p&gt;å³é”® user.protoï¼Œé€‰æ‹© Recompile&amp;#8221;user.proto&amp;#8221;ï¼ˆç¬¬ä¸€æ¬¡ç¼–è¯‘å¯èƒ½æ˜¯compile)&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://www.wingsxdu.com/wp-content/uploads/2019/05/java-proto-1-build-1-1.png&#34; alt=&#34;&#34; width=&#34;270&#34; height=&#34;300&#34; class=&#34;size-medium wp-image-1222 aligncenter&#34; /&gt;&lt;img src=&#34;https://www.wingsxdu.com/wp-content/uploads/2019/05/java-proto-build-1.png&#34; alt=&#34;&#34; width=&#34;716&#34; height=&#34;797&#34; class=&#34;aligncenter size-full wp-image-1222&#34; /&gt;ç¼–è¯‘å®Œæˆåä¼šåœ¨ build ç›®å½•å†…ç”Ÿæˆ grpcå’Œ java æ–‡ä»¶å¤¹ï¼Œå°†ç›®å½•å†…çš„æ–‡ä»¶å¤åˆ¶åˆ°å·¥ç¨‹å†…ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://www.wingsxdu.com/wp-content/uploads/2019/05/java-proto-get-1.png&#34; alt=&#34;&#34; width=&#34;677&#34; height=&#34;737&#34; class=&#34;aligncenter size-full wp-image-1223&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://www.wingsxdu.com/wp-content/uploads/2019/05/java-proto-1-get-1-1.png&#34; alt=&#34;&#34; width=&#34;677&#34; height=&#34;737&#34; class=&#34;size-full wp-image-1223 aligncenter&#34; /&gt;&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>Go GRPCä½¿ç”¨</title>
      <link>https://www.wingsxdu.com/p1204/</link>
      <pubDate>Wed, 22 May 2019 11:59:06 +0000</pubDate>
      
      <guid>https://www.wingsxdu.com/p1204/</guid>
      
        <description>

&lt;h5 id=&#34;1-1rpcç®€ä»‹&#34;&gt;1.1RPCç®€ä»‹&lt;/h5&gt;

&lt;p&gt;&lt;span&gt;RPCï¼Œå…¨ç§° Remote Procedure Callâ€”â€”è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼Œä¸»è¦ç”¨äºåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ç¨‹åºé—´çš„é€šä¿¡ï¼ŒåŸºäº TCP æˆ– UDP ä¼ è¾“åè®®å®ç°ã€‚RPC å±äº IPCï¼ˆè¿›ç¨‹é—´é€šä¿¡ï¼‰çš„åˆ†æ”¯ï¼Œé™¤ RPC å¤–è¿˜æœ‰å…±äº«å†…å­˜ã€channel ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;GRPC æ˜¯è°·æ­Œå¼€æºçš„ä¸€ä¸ªé«˜æ€§èƒ½ã€è·¨è¯­è¨€çš„ RPC æ¡†æ¶ï¼ŒåŸºäº HTTP2 ã€Protobuf å’Œ Netty 4.x ; GRPC çš„ä¼˜åŠ¿ä¸åœ¨äºæ€§èƒ½ï¼Œè€Œæ˜¯è·¨è¯­è¨€ï¼Œè¿˜å’Œ Golang æœ‰åŒä¸€ä¸ªçˆ¹ã€‚ã€‚ã€‚&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;GRPC å®˜ç½‘ï¼š&lt;a href=&#34;https://grpc.io/&#34;&gt;https://grpc.io/&lt;/a&gt;&lt;/p&gt;

&lt;h5 id=&#34;1-2-protobuf-ç®€ä»‹&#34;&gt;1.2Â  Protobuf ç®€ä»‹&lt;/h5&gt;

&lt;p&gt;&lt;strong&gt;Google Protocol Buffer(ç®€ç§° Protobuf)æ˜¯ä¸€ç§è½»ä¾¿é«˜æ•ˆçš„ç»“æ„åŒ–æ•°æ®å­˜å‚¨æ ¼å¼ï¼Œå¹³å°æ— å…³ã€è¯­è¨€æ— å…³ã€å¯æ‰©å±•ï¼Œå¯ç”¨äºé€šè®¯åè®®å’Œæ•°æ®å­˜å‚¨ç­‰é¢†åŸŸã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ç®€è¨€ä¹‹ï¼Œè¿™æ˜¯ä¸€ç§è·¨è¯­è¨€çš„ç»“æ„åŒ–æ•°æ®å­˜å‚¨æ ¼å¼ï¼Œç±»ä¼¼äº JSON&lt;/p&gt;

&lt;p&gt;å®˜ç½‘ï¼š&lt;a href=&#34;https://developers.google.cn/protocol-buffers/docs/proto3&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;&lt;a href=&#34;https://developers.google.cn/protocol-buffers/docs/proto3&#34;&gt;https://developers.google.cn/protocol-buffers/docs/proto3&lt;/a&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ä¸­æ–‡æ–‡æ¡£ï¼š&lt;a href=&#34;http://doc.oschina.net/grpc?t=56831&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;&lt;a href=&#34;http://doc.oschina.net/grpc?t=56831&#34;&gt;http://doc.oschina.net/grpc?t=56831&lt;/a&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h5 id=&#34;1-2-ç¯å¢ƒé…ç½®&#34;&gt;1.2 ç¯å¢ƒé…ç½®&lt;/h5&gt;

&lt;p&gt;å·¥ä½œç¯å¢ƒï¼šubuntu 16.04&lt;/p&gt;

&lt;h6 id=&#34;protobuf-å®‰è£…&#34;&gt;protobuf å®‰è£…&lt;/h6&gt;

&lt;p&gt;å®˜æ–¹æ•™ç¨‹ï¼š&lt;a href=&#34;https://github.com/protocolbuffers/protobuf/blob/master/src/README.md&#34;&gt;https://github.com/protocolbuffers/protobuf/blob/master/src/README.md&lt;/a&gt;&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;bash&#34;&gt;$ sudo apt-get install autoconf automake libtool curl make g++ unzip
$ git clone https://github.com/google/protobuf.git
$ cd protobuf
$ git submodule update --init --recursive
$ ./autogen.sh
$ ./configure
$ make
$ make check
$ sudo make install
$ sudo ldconfig # refresh shared library cache.&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å®‰è£…å®Œæˆåè¾“å…¥ï¼šprotoc &amp;#8211;version æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://www.wingsxdu.com/wp-content/uploads/2019/05/ubuntu-proto-version-1-1.png&#34; alt=&#34;&#34; width=&#34;737&#34; height=&#34;216&#34; class=&#34;alignnone size-full wp-image-1219&#34; /&gt;&lt;/p&gt;

&lt;h6 id=&#34;goè¯­è¨€-protobuf-ç¼–è¯‘&#34;&gt;Goè¯­è¨€ Protobuf ç¼–è¯‘&lt;/h6&gt;

&lt;p&gt;Goè¯­è¨€ç‰ˆ grpcä¸‹è½½ï¼š&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;$ go get -u google.golang.org/grpc&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è‹¥ç”±äºç½‘ç»œé—®é¢˜æ— æ³•ä¸‹è½½ï¼Œä½¿ç”¨ github é•œåƒå†å°†åŒ…ç§»åŠ¨åˆ° google.golang.orgï¼š&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;$ go get -u github.com/grpc/grpc-go&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Goè¯­è¨€ proto ç¼–è¯‘ç¯å¢ƒï¼š&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;$ go get -u github.com/golang/protobuf/protoc-gen-go&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åŒç†&amp;#8230;ä½¿ç”¨äº†å¾ˆå¤š golang.org/ åŒ…ï¼Œé•œåƒä¸‹è½½å‚è€ƒï¼š&lt;a href=&#34;https://www.wingsxdu.com/?p=1095&#34;&gt;Go ä¸‹è½½åŒ… golang.org/x/&lt;/a&gt;&lt;/p&gt;

&lt;h5 id=&#34;1-3å®æˆ˜ä½¿ç”¨&#34;&gt;1.3å®æˆ˜ä½¿ç”¨&lt;/h5&gt;

&lt;h6 id=&#34;å®šä¹‰-proto&#34;&gt;å®šä¹‰ proto&lt;/h6&gt;

&lt;p&gt;æ–°å»º user.proto æ–‡ä»¶&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;syntax = &#34;proto3&#34;; //Protocol Buffers Version
//å®šä¹‰çš„service
service CreateAccount{
    rpc CreateAccount(CreateAccountRequest) returns (CreateRequestResponse){}
}
//è¯·æ±‚çš„ç»“æ„ä½“
message CreateAccountRequest{
    string uid = 1;
    string service = 2;
}
//è¿”å›çš„ç»“æ„ä½“
message CreateRequestResponse{
    string value = 1;
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç¼–è¯‘ Go æºç ï¼Œç”Ÿæˆuser.pb.goï¼ˆå°†package useræ”¹ä¸º hello)&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;$ protoc --go_out=plugins=grpc:. hello.proto&lt;/code&gt;&lt;/pre&gt;

&lt;h6 id=&#34;go-å®¢æˆ·ç«¯&#34;&gt;Go å®¢æˆ·ç«¯&lt;/h6&gt;

&lt;p&gt;æ–°å»ºuserClient.go&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;func CreateAccount(uid string, service string) (value string, err error){
    conn, err := grpc.Dial(&#34;localhost:1330&#34;, grpc.WithInsecure())
    if err != nil {
        fmt.Println(err)
        return &#34;error&#34;, err
    }
    defer conn.Close()
    client := hello.NewCreateAccountClient(conn)
    Value, err := client.CreateAccount(context.Background(), &amp;hello.CreateAccountRequest{Uid:uid,Service:service})
    if err != nil {
        fmt.Println(err)
        return &#34;error&#34;, err
    }
    return Value.Value,nil
}&lt;/code&gt;&lt;/pre&gt;

&lt;h6 id=&#34;goæœåŠ¡ç«¯&#34;&gt;GoæœåŠ¡ç«¯&lt;/h6&gt;

&lt;p&gt;æ–°å»ºuserServer.go&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;type server struct{}
func (s *server) CreateAccount(ctx context.Context,response *hello.CreateAccountRequest) (*hello.CreateRequestResponse, error){
    fmt.Println(response.Uid+response.Service)
    return &amp;hello.CreateRequestResponse{Value:&#34;hello =======&amp;gt; &#34; + response.Uid},nil
}
func main(){
    lis,err := net.Listen(&#34;tcp&#34;,&#34;1330&#34;)
    if err != nil {
        log.Fatal(&#34;fail to listen&#34;)
    }
    s := grpc.NewServer()
    hello.RegisterCreateAccountServer(s,&amp;server{})
    reflection.Register(s)
    if err:= s.Serve(lis);err != nil{
        log.Fatal(&#34;fail to server&#34;)
    }
}&lt;/code&gt;&lt;/pre&gt;

&lt;h6 id=&#34;è°ƒç”¨&#34;&gt;è°ƒç”¨&lt;/h6&gt;

&lt;p&gt;å¼€å¯ server ç«¯ä¿æŒç›‘å¬ç«¯å£1330çŠ¶æ€ï¼Œè°ƒç”¨&lt;code class=&#34;null&#34;&gt;CreateAccount()&lt;/code&gt;å‡½æ•°ä¼ å€¼å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>å¯†ç ä¿æŠ¤ï¼šå‰å°æ¥å£å®šä¹‰</title>
      <link>https://www.wingsxdu.com/p1188/</link>
      <pubDate>Tue, 21 May 2019 10:01:49 +0000</pubDate>
      
      <guid>https://www.wingsxdu.com/p1188/</guid>
      
        <description>

&lt;h5 id=&#34;å‰è¨€è¯´æ˜&#34;&gt;å‰è¨€è¯´æ˜&lt;/h5&gt;

&lt;p&gt;urlè·¯å¾„ï¼š&lt;code class=&#34;http&#34;&gt;&lt;a href=&#34;https://star.wingsxdu.com&#34;&gt;https://star.wingsxdu.com&lt;/a&gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;å¦‚è·¯ç”±ä¸ºï¼š/loginï¼Œå®Œæ•´çš„ uri ä¸ºï¼š&lt;code class=&#34;http&#34;&gt;&lt;a href=&#34;https://star.wingsxdu.com/login&#34;&gt;https://star.wingsxdu.com/login&lt;/a&gt;&lt;/code&gt;&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;String è¿”å›å€¼å‡å·²æ”¹æˆJSONã€‚&lt;/code&gt;&lt;/pre&gt;

&lt;h6 id=&#34;ä¸“æœ‰åè¯&#34;&gt;&lt;strong&gt;ä¸“æœ‰åè¯&lt;/strong&gt;&lt;/h6&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code class=&#34;null&#34;&gt;Content-Type:application/form-data&lt;/code&gt;ä¸&lt;code class=&#34;null&#34;&gt;Content-Type:application/x-www-form-urlencoded&lt;/code&gt;åå°å‡å¯è§£æï¼ŒäºŒé€‰ä¸€ï¼Œæ–‡æ¡£ç»Ÿä¸€ç”¨&lt;code class=&#34;null&#34;&gt;form-data&lt;/code&gt;ä»£æ›¿ï¼›&lt;/li&gt;
&lt;/ul&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;uid//ç”¨æˆ·å”¯ä¸€æ ‡è¯†idï¼Œé•¿åº¦æœ€å¤§ä¸º20
password//ç”¨æˆ·å¯†ç 
username//ç”¨æˆ·åï¼Œé•¿åº¦æœ€å¤§ä¸º25
code//å¾®ä¿¡ç™»å½•è·å–çš„ä¸´æ—¶
code itemname//å•†å“åç§°
description//æè¿°
tag//æ ‡ç­¾
value//å•†å“ä»·æ ¼
file//ç”¨æˆ·é€‰æ‹©çš„å›¾ç‰‡
Itemhash//å•†å“hashï¼Œå”¯ä¸€å€¼ Ext//å•†å“çš„æ‰©å±•åï¼Œå¦‚ï¼š&#34;.docx&#34;ã€&#34;.jpg&#34;
Transactionhash//å•†å“è®°å½•åœ¨åŒºå—é“¾ä¸Šå¾—åˆ°çš„è®°å½•id
from//ä¹°å®¶uid
to//å–å®¶å³å•†å“æ‰€æœ‰è€…çš„uid
txId//è®¢å•å·
Mold//äº¤æ˜“ç±»å‹ï¼Œé»˜è®¤å€¼ä¸º0ï¼Œå¢å€¼æœåŠ¡ä¸º1ï¼ˆtypeä¸ºgolang å…³é”®å­—ï¼Œæ— æ³•ä½¿ç”¨ï¼‰&lt;/code&gt;&lt;/pre&gt;

&lt;h6 id=&#34;å·²çŸ¥bug&#34;&gt;&lt;strong&gt;å·²çŸ¥Bug&lt;/strong&gt;&lt;/h6&gt;

&lt;p&gt;&lt;strong&gt;Web ç«¯ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;è‹¥ get æ–¹æ³•å­˜åœ¨ headerï¼Œæ— æ³•æ‰§è¡Œè·¨åŸŸè¯·æ±‚ï¼Œè¯·åœ¨header å†…æ·»åŠ å­—æ®µ&lt;code class=&#34;null&#34;&gt;Content-Type:application/form-data&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&#34;æ³¨å†Œç™»å½•ç»„&#34;&gt;æ³¨å†Œç™»å½•ç»„&lt;/h5&gt;

&lt;p&gt;æ³¨å†Œ&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/register
æ–¹å¼ï¼špost
header:{
    Content-Type:application/form-data
}
body:{
    uid:
    password:
    username:
}
è¿”å›å€¼ï¼š{
    æˆåŠŸï¼šreturn c.JSONPretty(http.StatusOK, &amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;balance&amp;lt;/span&gt;&amp;lt;span&gt;:&amp;lt;/span&gt;æ³¨å†ŒæˆåŠŸ,è´¦æˆ·èµ„é‡‘ä¸ºï¼š} )
    å¤±è´¥ï¼šreturn c.JSONPretty(http.StatusInternalServerError, &amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:æœåŠ¡å™¨å¯èƒ½å‡ºç°å†…éƒ¨é”™è¯¯} &amp;lt;/span&gt;)
    ç”¨æˆ·å·²å­˜åœ¨ï¼šreturn c.JSONPretty(http.StatusOK, &amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:&amp;lt;/span&gt;è¯¥ç”¨æˆ·å·²å­˜åœ¨ï¼Œè¯·é‡æ–°æ³¨å†Œ} )
    //è§£é‡Šï¼šc.åé¢ä¸ºè¿”å›å€¼ç±»å‹ï¼Œå¦‚c.Stringè¿”å›å€¼ä¸ºStringç±»å‹ï¼Œc.JSONä¸ºJSONç±»å‹ï¼›
    //     http.StatusOKä¸ºè¿”å›çš„code,å¦‚200ã€404ç­‰ï¼Œä¸ç”¨ç®¡ï¼›æœ€åä¸ºè¿”å›å€¼
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç™»å½•ï¼šå¹³å°æ–¹&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/login
æ–¹å¼ï¼špost
header:{
    Content-Type:application/form-data
}
body:{
    uid:
    password:
}
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.JSONPretty(http.StatusOK, {token: t})//tokenå€¼ä¿å­˜
å¯†ç é”™è¯¯ï¼šreturn c.JSONPretty(http.StatusOK, &amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:&amp;lt;/span&gt;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯} )
é”™è¯¯ï¼šreturn c.JSONPretty(http.StatusInternalServerError, &amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:&amp;lt;/span&gt;æœåŠ¡å™¨å¯èƒ½å‡ºç°å†…éƒ¨é”™è¯¯} )
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç™»å½•ï¼šå¾®ä¿¡&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/login/wechat
æ–¹å¼ï¼špost
header:{
    Content-Type:application/form-data
}
body:{
    code:
}
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.JSONPretty(http.StatusOK, {token: t,})//tokenå€¼ä¿å­˜
é”™è¯¯ï¼šreturn c.JSONPretty(http.StatusInternalServerError, &amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:&amp;lt;/span&gt;æœåŠ¡å™¨å¯èƒ½å‡ºç°å†…éƒ¨é”™è¯¯} )
}&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;ç”¨æˆ·ç»„&#34;&gt;ç”¨æˆ·ç»„&lt;/h5&gt;

&lt;p&gt;è·å–ç”¨æˆ·ä¿¡æ¯&lt;/p&gt;

&lt;p&gt;æ›´æ”¹ç”¨æˆ·æ˜µç§°&lt;/p&gt;

&lt;p&gt;æŸ¥è¯¢è´¦æˆ·ä½™é¢&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/user/balance
æ–¹å¼ï¼šget
header:{
    Authorization:Bearer +ç™»å½•è·å–çš„tokenå€¼//æ³¨æ„Bearerä¸tokenå€¼ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼
}
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.JSONPretty(http.StatusOK, &amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;balance&amp;lt;/span&gt;&amp;lt;span&gt;:value} &amp;lt;/span&gt;)
å¤±è´¥ï¼šreturn c.JSONPretty(http.StatusOK, &amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:æœåŠ¡å™¨å¯èƒ½å‡ºç°å†…éƒ¨é”™è¯¯}&amp;lt;/span&gt;&amp;lt;span&gt; &amp;lt;/span&gt;)
}&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;æœç´¢ç»„&#34;&gt;æœç´¢ç»„&lt;/h5&gt;

&lt;p&gt;æœç´¢&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/search/:kw //ç¤ºä¾‹ï¼šsearch/ç”¨æˆ·è¾“å…¥çš„æœç´¢è¯
æ–¹å¼ï¼šget
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.JSONPretty(http.StatusOK, JSONArray )
æ— ç»“æœï¼šreturn c.JSONPretty(http.StatusOK, &amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:&amp;lt;/span&gt;æ— æŸ¥è¯¢ç»“æœ} )
}
&amp;lt;span&gt;æ•°ç»„å­—æ®µï¼š
[{
    Itemhash
    Itemname
    Description
    Tag
    Uid
    Value
    Ext
    Transactionhash
}]&amp;lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;ç¼©ç•¥å›¾ç»„&#34;&gt;ç¼©ç•¥å›¾ç»„&lt;/h5&gt;

&lt;p&gt;è·å–ç¼©ç•¥å›¾ä¿¡æ¯&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/thumbnail/list/:kw(æš‚ç”¨&#34;æµ‹è¯•æ•°æ®&#34;ä¸&#34;èƒŒæ™¯&#34;ä¸¤ä¸ªå­—æ®µ)
æ–¹å¼ï¼šget
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.JSONPretty(http.StatusOK, JSONArray,&#34;&#34;)
å¤±è´¥ï¼šreturn c.JSON(http.StatusOK,&amp;lt;span&gt; &amp;lt;/span&gt;&amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:&amp;lt;/span&gt;æ— æŸ¥è¯¢ç»“æœ} )
}
&amp;lt;span&gt;æ•°ç»„å­—æ®µï¼š
[{
    Itemhash
    Uid
    Ext
}]&amp;lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åŠ è½½ç¼©ç•¥å›¾&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨ï¼šè§£æä¸Šé¢è·å–çš„ json æ•°ç»„ï¼Œéå†åŠ è½½æ•°ç»„å†…çš„ json å¯¹è±¡è·å–ç¼©ç•¥å›¾ã€‚&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/thumbnail?uid=uid&amp;itemhash=itemhash&amp;ext=ext
æ–¹å¼ï¼šget
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.Inline(ç¼©ç•¥å›¾)//åœ¨æµè§ˆå™¨åŠ è½½æ˜¾ç¤º
}&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;æ•°æ®ä¸Šä¼ ä¸‹è½½ç»„&#34;&gt;æ•°æ®ä¸Šä¼ ä¸‹è½½ç»„&lt;/h5&gt;

&lt;p&gt;æ•°æ®ä¸Šä¼ &lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/restricted/upload
æ–¹å¼ï¼špost
header:{
    Content-Type:application/form-data
    Authorization:Bearer +ç™»å½•è·å–çš„tokenå€¼//æ³¨æ„Bearerä¸tokenå€¼ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼
}
body:{
    itemname://å•†å“åç§°
    description://æè¿°
    tag://æ ‡ç­¾
    value://
    file://ç”¨æˆ·é€‰æ‹©çš„å›¾ç‰‡
}
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.JSONPretty(http.StatusCreated,&amp;lt;span&gt; &amp;lt;/span&gt;&amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:&amp;lt;/span&gt;æ•°æ®ä¸Šä¼ æˆåŠŸ,å”¯ä¸€æ ‡è¯†idä¸ºï¼š} )
å·²ä¸Šä¼ ï¼šreturn c.JSONPretty(http.StatusOK,&amp;lt;span&gt; &amp;lt;/span&gt;&amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:&amp;lt;/span&gt;è¯¥æ•°æ®å·²è¢«ä¸Šä¼ ï¼Œæ˜¯å¦è¿›è¡Œæ•°æ®ç¡®æƒï¼Ÿ} )
é”™è¯¯ï¼šreturn c.JSONPretty(http.StatusNotFound,&amp;lt;span&gt; &amp;lt;/span&gt;&amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:&amp;lt;/span&gt;æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–é‡æ–°ä¸Šä¼ } )
           return c.JSONPretty(http.StatusInternalServerError,&amp;lt;span&gt; &amp;lt;/span&gt;&amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:&amp;lt;/span&gt;æœåŠ¡å™¨å¯èƒ½å‡ºç°å†…éƒ¨é”™è¯¯} )
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸‹è½½åŸå›¾&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/restricted/download
æ–¹å¼ï¼špost
header:{
    Content-Type:application/form-data
    Authorization:Bearer +ç™»å½•è·å–çš„tokenå€¼//æ³¨æ„Bearerä¸tokenå€¼ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼
}
body:{
    uid://å•†å“æ‰€æœ‰è€…çš„ç”¨æˆ·id
    itemhash:
    ext:
}
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.File(åŸå›¾)//æµè§ˆå™¨ä¸‹è½½æ–‡ä»¶å¹¶ä¿å­˜
}&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;å•†å“ç»„&#34;&gt;å•†å“ç»„&lt;/h5&gt;

&lt;p&gt;è·å–å•†å“è¯¦æƒ…&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/restricted/item/get/:ih
æ–¹å¼ï¼šget
header:{
    Authorization:Bearer +ç™»å½•è·å–çš„tokenå€¼//æ³¨æ„Bearerä¸tokenå€¼ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼
}
è¿”å›å€¼{
æˆåŠŸï¼š return c.JSONPretty(http.StatusOK, JSONObject)
æ— æŸ¥è¯¢ç»“æœï¼šreturn c.JSONPretty(http.StatusOK,&amp;lt;span&gt; &amp;lt;/span&gt;&amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:&amp;lt;/span&gt;æ— æŸ¥è¯¢ç»“æœ} )
}
Json å¯¹è±¡å­—æ®µ
&amp;lt;span&gt;{
    Itemhash
    Itemname
    Description
    Tag
    Uid
    Value
    Ext
    Transactionhash
}&amp;lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç¡®è®¤å•†å“æ˜¯å¦å­˜åœ¨&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/restricted/item/has/:ih
æ–¹å¼ï¼šget
header:{
    Authorization:Bearer +ç™»å½•è·å–çš„tokenå€¼//æ³¨æ„Bearerä¸tokenå€¼ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼
}
è¿”å›å€¼{
æˆåŠŸï¼š return c.JSONPretty(http.StatusOK,&amp;lt;span&gt; &amp;lt;/span&gt;&amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:&amp;lt;/span&gt;è¯¥æ•°æ®ç¡®è®¤å­˜åœ¨} )
æ— æŸ¥è¯¢ç»“æœï¼šreturn c.JSONPretty(http.StatusOK,&amp;lt;span&gt; &amp;lt;/span&gt;&amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:&amp;lt;/span&gt;æ— æŸ¥è¯¢ç»“æœ} )
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åˆ é™¤å•†å“ï¼ˆä¸‹æ¶ï¼‰&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/restricted/item/delete/:ih
æ–¹å¼ï¼šget
header:{
    Authorization:Bearer +ç™»å½•è·å–çš„tokenå€¼//æ³¨æ„Bearerä¸tokenå€¼ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼
}
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.JSONPretty(http.StatusOK,&amp;lt;span&gt; &amp;lt;/span&gt;&amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:&amp;lt;/span&gt;æ•°æ®åˆ é™¤æˆåŠŸ} )
å¤±è´¥ï¼šreturn c.JSONPretty(http.StatusOK,&amp;lt;span&gt; &amp;lt;/span&gt;&amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:&amp;lt;/span&gt;åˆ é™¤å¤±è´¥ï¼Œç¡®è®¤æ•°æ®å“ˆå¸Œå€¼æ˜¯å¦æ­£ç¡®} )
æ“ä½œè´¦æˆ·ä¸æ‰€æœ‰è€…ä¸åŒ¹é…ï¼šreturn c.JSONPretty(http.StatusOK,&amp;lt;span&gt; &amp;lt;/span&gt;&amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:&amp;lt;/span&gt;æ‚¨ä¸æ˜¯è¯¥å•†å“çš„æ‰€æœ‰è€…} )
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ›´æ–°å•†å“ä¿¡æ¯&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/restricted/item/update
æ–¹å¼ï¼špost
header:{
    Content-Type:multipart/form-data
    Authorization:Bearer +ç™»å½•è·å–çš„tokenå€¼//æ³¨æ„Bearerä¸tokenå€¼ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼
}
body:{
    itemhash://å¿…å¡«å­—æ®µ
    itemname:
    value:
    description:
    tag:
}
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.JSONPretty(http.StatusOK, {result:æ›´æ–°æˆåŠŸ},&#34;&#34;)
å¤±è´¥ï¼šreturn c.JSONPretty(http.StatusOK, {result:æ›´æ–°å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•},&#34;&#34;)
}&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;äº¤æ˜“ç»„&#34;&gt;äº¤æ˜“ç»„&lt;/h5&gt;

&lt;p&gt;äº¤æ˜“&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/restricted/trade
æ–¹å¼ï¼špost
header:{
    Content-Type:multipart/form-data
    Authorization:Bearer +ç™»å½•è·å–çš„tokenå€¼//æ³¨æ„Bearerä¸tokenå€¼ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼
}
body:{
    to://å–å®¶å³å•†å“æ‰€æœ‰è€…çš„uid
    value://ä»·æ ¼
    itemhash:
    mold://äº¤æ˜“ç±»å‹ï¼Œé»˜è®¤å€¼ä¸º0
}
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.JSONPretty(http.StatusOK, &amp;lt;span&gt;{TxId&amp;lt;/span&gt;&amp;lt;span&gt;:è®¢å•å·} &amp;lt;/span&gt;)
å¤±è´¥ï¼šreturn c.JSONPretty(http.StatusOK,&amp;lt;span&gt; &amp;lt;/span&gt;&amp;lt;span&gt;{&amp;lt;/span&gt;&amp;lt;span class=&#34;hljs-keyword&#34;&gt;result&amp;lt;/span&gt;&amp;lt;span&gt;:äº¤æ˜“å¤±è´¥} &amp;lt;/span&gt;)
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é€€æ¬¾&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/restricted/trade/refund
æ–¹å¼ï¼špost
header:{
    Content-Type:multipart/form-data
    Authorization:Bearer +ç™»å½•è·å–çš„tokenå€¼//æ³¨æ„Bearerä¸tokenå€¼ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼
}
body:{
    from://ä¹°å®¶uid
    to://å–å®¶å³å•†å“æ‰€æœ‰è€…çš„uid
    txId://è®¢å•å·
}
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.JSONPretty(http.StatusOK, {result:é€€æ¬¾æˆåŠŸ} )
å¤±è´¥ï¼šreturn c.JSONPretty(http.StatusOK, {result:é€€æ¬¾å¤±è´¥ï¼Œè¯·æ£€æŸ¥è®¢å•å·} )
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æŸ¥è¯¢è®¢å•ä¿¡æ¯&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/restricted/trade/txinfo
æ–¹å¼ï¼špost
header:{
    Content-Type:multipart/form-data
    Authorization:Bearer +ç™»å½•è·å–çš„tokenå€¼//æ³¨æ„Bearerä¸tokenå€¼ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼
}
body:{
    txId://è®¢å•å·
}
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.JSONPretty(http.StatusOK, {result:äº¤æ˜“ä¿¡æ¯è¯¦æƒ…} )
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¹°å®¶è®¢å•æŸ¥è¯¢&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/restricted/trade/fromlist
æ–¹å¼ï¼šget
header:{
    Authorization:Bearer +ç™»å½•è·å–çš„tokenå€¼//æ³¨æ„Bearerä¸tokenå€¼ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼
}
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.JSONPretty(http.StatusOK, JsonArray)
å¤±è´¥ï¼šreturn c.JSONPretty(http.StatusOK, {result:æ— æŸ¥è¯¢ç»“æœ} )
}
æ•°ç»„å­—æ®µï¼š
[{
    From
    To
    Value
    ItemHash
    Mold
    TxId
}]&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å–ä»·å®¶è®¢å•æŸ¥è¯¢&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/restricted/trade/tolist
å…¶ä»–åŒä¸Š&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;åº”ä»˜ç»„&#34;&gt;åº”ä»˜ç»„&lt;/h5&gt;

&lt;p&gt;æ•°æ®ä¿¡æ¯ä¸Šé“¾&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/restricted/watermark/add
æ–¹å¼ï¼špost
header:{
    Content-Type:application/form-data
    Authorization:Bearer +ç™»å½•è·å–çš„tokenå€¼//æ³¨æ„Bearerä¸tokenå€¼ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼
}
body:{
    itemhash//å•†å“hash
    message//æ°´å°ä¿¡æ¯
}
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.JSONPretty(http.StatusCreated, JsonArray )
æ•°ç»„å­—æ®µï¼š
[{
has:bool
TxId
}]&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ ¹æ®TxIdæŸ¥è¯¢&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/restricted/watermark/get
æ–¹å¼ï¼špost
header:{
    Content-Type:application/form-data
    Authorization:Bearer +ç™»å½•è·å–çš„tokenå€¼//æ³¨æ„Bearerä¸tokenå€¼ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼
}
body:{
    TxId
}
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.JSONPretty(http.StatusCreated, JsonArray )
æ•°ç»„å­—æ®µï¼š
[{
uid
itemhash
message
time
}]&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;wsl&#34;&gt;WSL&lt;/h5&gt;

&lt;p&gt;ä¸Šä¼ å›¾ç‰‡&lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/upload
æ–¹å¼ï¼špost
header:{
    Content-Type:application/form-data
}
body:{
    file://é€‰æ‹©çš„å›¾ç‰‡
}
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.JSONPretty(http.StatusCreated, {result:success} )
é”™è¯¯ï¼šreturn c.JSONPretty(http.StatusNotFound, {result:æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–é‡æ–°ä¸Šä¼ } )
           return c.JSONPretty(http.StatusInternalServerError, {result:æœåŠ¡å™¨å¯èƒ½å‡ºç°å†…éƒ¨é”™è¯¯} )
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç¼–ç &lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/decode
æ–¹å¼ï¼špost
header:{
    Content-Type:application/form-data
}
body:{
    filename://å•†å“åç§°
    txid//äº¤æ˜“hash
}
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.File({temp.png} )
é”™è¯¯ï¼šreturn c.JSONPretty(http.StatusNotFound, {result:error()} )
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è§£ç &lt;/p&gt;

&lt;pre class=&#34;pure-highlightjs&#34;&gt;&lt;code class=&#34;null&#34;&gt;è·¯ç”±ï¼š/decode
æ–¹å¼ï¼špost
header:{
    Content-Type:application/form-data
}
body:{
    filename://å•†å“åç§°
}
è¿”å›å€¼{
æˆåŠŸï¼šreturn c.JSON(http.StatusOK, {result:å›¾ç‰‡è§£ç å¾—åˆ°çš„ä¿¡æ¯})
é”™è¯¯ï¼šreturn c.JSONPretty(http.StatusNotFound, {result:error()} )&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;
</description>
      
    </item>
    
  </channel>
</rss>
